<!DOCTYPE html><html lang="en"><head><title></title><meta charset="utf-8"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script><link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script><script type="text/javascript">hljs.initHighlightingOnLoad();
</script><link type="text/css" rel="stylesheet" href="/css/main.css"></head><body><div class="wrapper"><div class="main"><h1>CORE FUNCTIONS: REMOTE</h1><p> This package exports several entry points into the JS environment,
 including:</p>
<blockquote>
<ul>
<li><a href="#scp">mithras.remote.scp</a></li>
<li><a href="#shell">mithras.remote.shell</a></li>
<li><a href="#wrapper">mithras.remote.wrapper</a></li>
<li><a href="#mithras">mithras.remote.mithras</a></li>
</ul>
</blockquote>
<p> This API allows resource handlers to execute tasks on remote hosts
 in a variety of ways.</p>
<h2>MITHRAS.REMOTE.SCP</h2><p> <a name="scp"></a>
 <code>mithras.remote.scp(ip, user, keypath, src, dest);</code></p>
<p> Copy a file to a remote host.</p>
<p> Example:</p>
<pre><code>
   mithras.remote.scp(&quot;52.90.244.101&quot;,
                      &quot;ec2-user&quot;,
                      &quot;/home/user/.ssh/key.pem&quot;,
                      &quot;/tmp/sourcefile&quot;,
                      &quot;/etc/hosts&quot;);
</code></pre><h2>MITHRAS.REMOTE.SHELL</h2><p> <a name="shell"></a>
 <code>mithras.remote.shell(ip, user, keypath, input, cmd, env);</code></p>
<p> Execute command(s) in a shell on a remote system.  The arg <code>env</code>
 specifies an object mapping environment variables to values for the
 <em>local</em> execution of the ssh command.  If the <code>input</code> arg is a
 string, the stdin of the locally-executed ssh command will be set
 to the contents of the argument and the locally executed ssh
 command will not use the <code>-tt</code> command line option for setting a
 tty.</p>
<p> Example:</p>
<pre><code>
   mithras.remote.shell(&quot;52.90.244.101&quot;,
                        &quot;ec2-user&quot;,
                        &quot;/home/user/.ssh/key.pem&quot;,
                        &quot;hello, world!\n&quot;,
                        &quot;cat &gt; /tmp/foo&quot;,
                        {&quot;envVar&quot;: &quot;value&quot;});
</code></pre><h2>MITHRAS.REMOTE.WRAPPER</h2><p> <a name="wrapper"></a>
 <code>mithras.remote.wrapper(ip, user, keypath, args, env);</code></p>
<p> Execute a single command in a shell on a remote system.  The arg <code>env</code>
 specifies an object mapping environment variables to values for the
 <em>remote</em> execution of the caller-supplied command.</p>
<p> Example:</p>
<pre><code>
   mithras.remote.wrapper(&quot;52.90.244.101&quot;,
                          &quot;ec2-user&quot;,
                          &quot;/home/user/.ssh/key.pem&quot;,
                          [&quot;ls&quot;, &quot;-l&quot;],
                          {&quot;envVar&quot;: &quot;value&quot;});
</code></pre><h2>MITHRAS.REMOTE.MITHRAS</h2><p> <a name="mithras"></a>
 <code>mithras.remote.mithras(instance, user, keypath, js, become, becomeUser, becomeMethod);</code></p>
<p> Example:</p>
<pre><code>
   mithras.remote.wrapper(&lt;ec2 instance object&gt;
                          &quot;ec2-user&quot;,
                          &quot;/home/user/.ssh/key.pem&quot;,
                          &quot;(function run() { console.log(&#39;hi&#39;); })&quot;
                          true,
                          &quot;root&quot;
                          &quot;sudo&quot;);
</code></pre></div></div><script src="/js/main.js"></script></body></html>