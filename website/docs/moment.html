<!DOCTYPE html>

<html>
<head>
  <title>moment.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div class="container">
    <div class="page">

      <div class="header">
        
          <h1>moment.js</h1>
        

        
          <div class="toc">
            <h3>Table of Contents</h3>
            <ol>
              
                
                <li>
                  <a class="source" href="cli.html">
                    cli.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="become.html">
                    become.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="cache.html">
                    cache.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="copy.html">
                    copy.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="dep_graph.html">
                    dep_graph.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="elasticache.html">
                    elasticache.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="elb.html">
                    elb.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="file.html">
                    file.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="git.html">
                    git.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="iam.html">
                    iam.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="instance.html">
                    instance.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="keypairs.html">
                    keypairs.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="log.html">
                    log.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="mithras.html">
                    mithras.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="moment.html">
                    moment.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="network.html">
                    network.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="object_path.html">
                    object_path.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="packager.html">
                    packager.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="rds.html">
                    rds.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="route53.html">
                    route53.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="s3.html">
                    s3.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="scp.html">
                    scp.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="secgroup.html">
                    secgroup.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="service.html">
                    service.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="shell.html">
                    shell.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="sprintf.html">
                    sprintf.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="subnet.html">
                    subnet.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="traverse.html">
                    traverse.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="vpc.html">
                    vpc.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="main.html">
                    main.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="build.html">
                    build.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="channels.html">
                    channels.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="core.html">
                    core.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="elasticache.html">
                    elasticache.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="elb.html">
                    elb.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="exec.html">
                    exec.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="filepath.html">
                    filepath.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="fs.html">
                    fs.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="goroutines.html">
                    goroutines.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="iam.html">
                    iam.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="instance.html">
                    instance.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="keypairs.html">
                    keypairs.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="log.html">
                    log.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="network.html">
                    network.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="os.html">
                    os.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="peek.html">
                    peek.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="rds.html">
                    rds.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="region.html">
                    region.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="remote.html">
                    remote.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="require.html">
                    require.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="route53.html">
                    route53.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="routetables.html">
                    routetables.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="s3.html">
                    s3.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="secgroup.html">
                    secgroup.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="service.html">
                    service.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="subnet.html">
                    subnet.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="tag.html">
                    tag.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="time.html">
                    time.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="user.html">
                    user.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="vpc.html">
                    vpc.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="web.html">
                    web.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="wrapper.html">
                    wrapper.go
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="script.html">
                    script.go
                  </a>
                </li>
              
            </ol>
          </div>
        
      </div>

      
        
        <p>! moment.js
! version : 2.12.0
! authors : Tim Wood, Iskren Chernev, Moment.js contributors
! license : MIT
! momentjs.com</p>

        
          <div class='highlight'><pre>
;(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">global, factory</span>) </span>{
    <span class="hljs-keyword">typeof</span> exports === <span class="hljs-string">'object'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">'undefined'</span> ? <span class="hljs-built_in">module</span>.exports = factory() :
    <span class="hljs-keyword">typeof</span> define === <span class="hljs-string">'function'</span> &amp;&amp; define.amd ? define(factory) :
    global.moment = factory()
}(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-string">'use strict'</span>;

    <span class="hljs-keyword">var</span> hookCallback;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">utils_hooks__hooks</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> hookCallback.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
    }</pre></div>
        
      
        
        <p>This is done to register the method called with moment()
without creating circular dependencies.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setHookCallback</span> (<span class="hljs-params">callback</span>) </span>{
        hookCallback = callback;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArray</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> || <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Array]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDate</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Date</span> || <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Date]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">map</span>(<span class="hljs-params">arr, fn</span>) </span>{
        <span class="hljs-keyword">var</span> res = [], i;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasOwnProp</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty.call(a, b);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extend</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> b) {
            <span class="hljs-keyword">if</span> (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        <span class="hljs-keyword">if</span> (hasOwnProp(b, <span class="hljs-string">'toString'</span>)) {
            a.toString = b.toString;
        }

        <span class="hljs-keyword">if</span> (hasOwnProp(b, <span class="hljs-string">'valueOf'</span>)) {
            a.valueOf = b.valueOf;
        }

        <span class="hljs-keyword">return</span> a;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create_utc__createUTC</span> (<span class="hljs-params">input, format, locale, strict</span>) </span>{
        <span class="hljs-keyword">return</span> createLocalOrUTC(input, format, locale, strict, <span class="hljs-literal">true</span>).utc();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaultParsingFlags</span>(<span class="hljs-params"></span>) </span>{</pre></div>
        
      
        
        <p>We need to deep clone this object.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">return</span> {
            empty           : <span class="hljs-literal">false</span>,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : <span class="hljs-number">-2</span>,
            charsLeftOver   : <span class="hljs-number">0</span>,
            nullInput       : <span class="hljs-literal">false</span>,
            invalidMonth    : <span class="hljs-literal">null</span>,
            invalidFormat   : <span class="hljs-literal">false</span>,
            userInvalidated : <span class="hljs-literal">false</span>,
            iso             : <span class="hljs-literal">false</span>
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParsingFlags</span>(<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">if</span> (m._pf == <span class="hljs-literal">null</span>) {
            m._pf = defaultParsingFlags();
        }
        <span class="hljs-keyword">return</span> m._pf;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valid__isValid</span>(<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">if</span> (m._isValid == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> flags = getParsingFlags(m);
            m._isValid = !<span class="hljs-built_in">isNaN</span>(m._d.getTime()) &amp;&amp;
                flags.overflow &lt; <span class="hljs-number">0</span> &amp;&amp;
                !flags.empty &amp;&amp;
                !flags.invalidMonth &amp;&amp;
                !flags.invalidWeekday &amp;&amp;
                !flags.nullInput &amp;&amp;
                !flags.invalidFormat &amp;&amp;
                !flags.userInvalidated;

            <span class="hljs-keyword">if</span> (m._strict) {
                m._isValid = m._isValid &amp;&amp;
                    flags.charsLeftOver === <span class="hljs-number">0</span> &amp;&amp;
                    flags.unusedTokens.length === <span class="hljs-number">0</span> &amp;&amp;
                    flags.bigHour === <span class="hljs-literal">undefined</span>;
            }
        }
        <span class="hljs-keyword">return</span> m._isValid;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valid__createInvalid</span> (<span class="hljs-params">flags</span>) </span>{
        <span class="hljs-keyword">var</span> m = create_utc__createUTC(<span class="hljs-literal">NaN</span>);
        <span class="hljs-keyword">if</span> (flags != <span class="hljs-literal">null</span>) {
            extend(getParsingFlags(m), flags);
        }
        <span class="hljs-keyword">else</span> {
            getParsingFlags(m).userInvalidated = <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">return</span> m;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUndefined</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;
    }</pre></div>
        
      
        
        <p>Plugins that add properties should also add the key here (null value),
so we can properly clone ourselves.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> momentProperties = utils_hooks__hooks.momentProperties = [];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">copyConfig</span>(<span class="hljs-params">to, from</span>) </span>{
        <span class="hljs-keyword">var</span> i, prop, val;

        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._isAMomentObject)) {
            to._isAMomentObject = <span class="hljs-keyword">from</span>._isAMomentObject;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._i)) {
            to._i = <span class="hljs-keyword">from</span>._i;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._f)) {
            to._f = <span class="hljs-keyword">from</span>._f;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._l)) {
            to._l = <span class="hljs-keyword">from</span>._l;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._strict)) {
            to._strict = <span class="hljs-keyword">from</span>._strict;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._tzm)) {
            to._tzm = <span class="hljs-keyword">from</span>._tzm;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._isUTC)) {
            to._isUTC = <span class="hljs-keyword">from</span>._isUTC;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._offset)) {
            to._offset = <span class="hljs-keyword">from</span>._offset;
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._pf)) {
            to._pf = getParsingFlags(<span class="hljs-keyword">from</span>);
        }
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">from</span>._locale)) {
            to._locale = <span class="hljs-keyword">from</span>._locale;
        }

        <span class="hljs-keyword">if</span> (momentProperties.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> momentProperties) {
                prop = momentProperties[i];
                val = <span class="hljs-keyword">from</span>[prop];
                <span class="hljs-keyword">if</span> (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        <span class="hljs-keyword">return</span> to;
    }

    <span class="hljs-keyword">var</span> updateInProgress = <span class="hljs-literal">false</span>;</pre></div>
        
      
        
        <p>Moment prototype object</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Moment</span>(<span class="hljs-params">config</span>) </span>{
        copyConfig(<span class="hljs-keyword">this</span>, config);
        <span class="hljs-keyword">this</span>._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(config._d != <span class="hljs-literal">null</span> ? config._d.getTime() : <span class="hljs-literal">NaN</span>);</pre></div>
        
      
        
        <p>Prevent infinite loop in case updateOffset creates new moment
objects.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (updateInProgress === <span class="hljs-literal">false</span>) {
            updateInProgress = <span class="hljs-literal">true</span>;
            utils_hooks__hooks.updateOffset(<span class="hljs-keyword">this</span>);
            updateInProgress = <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isMoment</span> (<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> obj <span class="hljs-keyword">instanceof</span> Moment || (obj != <span class="hljs-literal">null</span> &amp;&amp; obj._isAMomentObject != <span class="hljs-literal">null</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">absFloor</span> (<span class="hljs-params">number</span>) </span>{
        <span class="hljs-keyword">if</span> (number &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.ceil(number);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(number);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toInt</span>(<span class="hljs-params">argumentForCoercion</span>) </span>{
        <span class="hljs-keyword">var</span> coercedNumber = +argumentForCoercion,
            value = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">if</span> (coercedNumber !== <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">isFinite</span>(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        <span class="hljs-keyword">return</span> value;
    }</pre></div>
        
      
        
        <p>compare two arrays, return the number of differences</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareArrays</span>(<span class="hljs-params">array1, array2, dontConvert</span>) </span>{
        <span class="hljs-keyword">var</span> len = <span class="hljs-built_in">Math</span>.min(array1.length, array2.length),
            lengthDiff = <span class="hljs-built_in">Math</span>.abs(array1.length - array2.length),
            diffs = <span class="hljs-number">0</span>,
            i;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len; i++) {
            <span class="hljs-keyword">if</span> ((dontConvert &amp;&amp; array1[i] !== array2[i]) ||
                (!dontConvert &amp;&amp; toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        <span class="hljs-keyword">return</span> diffs + lengthDiff;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">warn</span>(<span class="hljs-params">msg</span>) </span>{
        <span class="hljs-keyword">if</span> (utils_hooks__hooks.suppressDeprecationWarnings === <span class="hljs-literal">false</span> &amp;&amp;
                (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">console</span> !==  <span class="hljs-string">'undefined'</span>) &amp;&amp; <span class="hljs-built_in">console</span>.warn) {
            <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">'Deprecation warning: '</span> + msg);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deprecate</span>(<span class="hljs-params">msg, fn</span>) </span>{
        <span class="hljs-keyword">var</span> firstTime = <span class="hljs-literal">true</span>;

        <span class="hljs-keyword">return</span> extend(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (firstTime) {
                warn(msg + <span class="hljs-string">'\nArguments: '</span> + <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>).join(<span class="hljs-string">', '</span>) + <span class="hljs-string">'\n'</span> + (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>()).stack);
                firstTime = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">return</span> fn.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        }, fn);
    }

    <span class="hljs-keyword">var</span> deprecations = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deprecateSimple</span>(<span class="hljs-params">name, msg</span>) </span>{
        <span class="hljs-keyword">if</span> (!deprecations[name]) {
            warn(msg);
            deprecations[name] = <span class="hljs-literal">true</span>;
        }
    }

    utils_hooks__hooks.suppressDeprecationWarnings = <span class="hljs-literal">false</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFunction</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Function</span> || <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Function]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isObject</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(input) === <span class="hljs-string">'[object Object]'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">locale_set__set</span> (<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> prop, i;
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> config) {
            prop = config[i];
            <span class="hljs-keyword">if</span> (isFunction(prop)) {
                <span class="hljs-keyword">this</span>[i] = prop;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>[<span class="hljs-string">'_'</span> + i] = prop;
            }
        }
        <span class="hljs-keyword">this</span>._config = config;</pre></div>
        
      
        
        <p>Lenient ordinal parsing accepts just a number in addition to
number + (possibly) stuff coming from _ordinalParseLenient.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">this</span>._ordinalParseLenient = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-keyword">this</span>._ordinalParse.source + <span class="hljs-string">'|'</span> + (<span class="hljs-regexp">/\d{1,2}/</span>).source);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mergeConfigs</span>(<span class="hljs-params">parentConfig, childConfig</span>) </span>{
        <span class="hljs-keyword">var</span> res = extend({}, parentConfig), prop;
        <span class="hljs-keyword">for</span> (prop <span class="hljs-keyword">in</span> childConfig) {
            <span class="hljs-keyword">if</span> (hasOwnProp(childConfig, prop)) {
                <span class="hljs-keyword">if</span> (isObject(parentConfig[prop]) &amp;&amp; isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (childConfig[prop] != <span class="hljs-literal">null</span>) {
                    res[prop] = childConfig[prop];
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">delete</span> res[prop];
                }
            }
        }
        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Locale</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">if</span> (config != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">this</span>.set(config);
        }
    }</pre></div>
        
      
        
        <p>internal storage for locale config files</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> locales = {};
    <span class="hljs-keyword">var</span> globalLocale;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeLocale</span>(<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">return</span> key ? key.toLowerCase().replace(<span class="hljs-string">'_'</span>, <span class="hljs-string">'-'</span>) : key;
    }</pre></div>
        
      
        
        <p>pick the locale from the array
try [‘en-au’, ‘en-gb’] as ‘en-au’, ‘en-gb’, ‘en’, as in move through the list trying each
substring from most specific to least, but move to the next array item if it’s a more specific variant than the current root</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chooseLocale</span>(<span class="hljs-params">names</span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j, next, locale, split;

        <span class="hljs-keyword">while</span> (i &lt; names.length) {
            split = normalizeLocale(names[i]).split(<span class="hljs-string">'-'</span>);
            j = split.length;
            next = normalizeLocale(names[i + <span class="hljs-number">1</span>]);
            next = next ? next.split(<span class="hljs-string">'-'</span>) : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">while</span> (j &gt; <span class="hljs-number">0</span>) {
                locale = loadLocale(split.slice(<span class="hljs-number">0</span>, j).join(<span class="hljs-string">'-'</span>));
                <span class="hljs-keyword">if</span> (locale) {
                    <span class="hljs-keyword">return</span> locale;
                }
                <span class="hljs-keyword">if</span> (next &amp;&amp; next.length &gt;= j &amp;&amp; compareArrays(split, next, <span class="hljs-literal">true</span>) &gt;= j - <span class="hljs-number">1</span>) {</pre></div>
        
      
        
        <p>the next array item is better than a shallower substring of this one</p>

        
          <div class='highlight'><pre>                    <span class="hljs-keyword">break</span>;
                }
                j--;
            }
            i++;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadLocale</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> oldLocale = <span class="hljs-literal">null</span>;</pre></div>
        
      
        
        <p>TODO: Find a better way to register and load all the locales in Node</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (!locales[name] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">'undefined'</span>) &amp;&amp;
                <span class="hljs-built_in">module</span> &amp;&amp; <span class="hljs-built_in">module</span>.exports) {
            <span class="hljs-keyword">try</span> {
                oldLocale = globalLocale._abbr;
                <span class="hljs-built_in">require</span>(<span class="hljs-string">'./locale/'</span> + name);</pre></div>
        
      
        
        <p>because defineLocale currently also sets the global locale, we
want to undo that for lazy loaded locales</p>

        
          <div class='highlight'><pre>                locale_locales__getSetGlobalLocale(oldLocale);
            } <span class="hljs-keyword">catch</span> (e) { }
        }
        <span class="hljs-keyword">return</span> locales[name];
    }</pre></div>
        
      
        
        <p>This function will load locale and then set the global locale.  If
no arguments are passed in, it will simply return the current global
locale key.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">locale_locales__getSetGlobalLocale</span> (<span class="hljs-params">key, values</span>) </span>{
        <span class="hljs-keyword">var</span> data;
        <span class="hljs-keyword">if</span> (key) {
            <span class="hljs-keyword">if</span> (isUndefined(values)) {
                data = locale_locales__getLocale(key);
            }
            <span class="hljs-keyword">else</span> {
                data = defineLocale(key, values);
            }

            <span class="hljs-keyword">if</span> (data) {</pre></div>
        
      
        
        <p>moment.duration._locale = moment._locale = data;</p>

        
          <div class='highlight'><pre>                globalLocale = data;
            }
        }

        <span class="hljs-keyword">return</span> globalLocale._abbr;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defineLocale</span> (<span class="hljs-params">name, config</span>) </span>{
        <span class="hljs-keyword">if</span> (config !== <span class="hljs-literal">null</span>) {
            config.abbr = name;
            <span class="hljs-keyword">if</span> (locales[name] != <span class="hljs-literal">null</span>) {
                deprecateSimple(<span class="hljs-string">'defineLocaleOverride'</span>,
                        <span class="hljs-string">'use moment.updateLocale(localeName, config) to change '</span> +
                        <span class="hljs-string">'an existing locale. moment.defineLocale(localeName, '</span> +
                        <span class="hljs-string">'config) should only be used for creating a new locale'</span>);
                config = mergeConfigs(locales[name]._config, config);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (config.parentLocale != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (locales[config.parentLocale] != <span class="hljs-literal">null</span>) {
                    config = mergeConfigs(locales[config.parentLocale]._config, config);
                } <span class="hljs-keyword">else</span> {</pre></div>
        
      
        
        <p>treat as if there is no base config</p>

        
          <div class='highlight'><pre>                    deprecateSimple(<span class="hljs-string">'parentLocaleUndefined'</span>,
                            <span class="hljs-string">'specified parentLocale is not defined yet'</span>);
                }
            }
            locales[name] = <span class="hljs-keyword">new</span> Locale(config);</pre></div>
        
      
        
        <p>backwards compat for now: also set the locale</p>

        
          <div class='highlight'><pre>            locale_locales__getSetGlobalLocale(name);

            <span class="hljs-keyword">return</span> locales[name];
        } <span class="hljs-keyword">else</span> {</pre></div>
        
      
        
        <p>useful for testing</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">delete</span> locales[name];
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateLocale</span>(<span class="hljs-params">name, config</span>) </span>{
        <span class="hljs-keyword">if</span> (config != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> locale;
            <span class="hljs-keyword">if</span> (locales[name] != <span class="hljs-literal">null</span>) {
                config = mergeConfigs(locales[name]._config, config);
            }
            locale = <span class="hljs-keyword">new</span> Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;</pre></div>
        
      
        
        <p>backwards compat for now: also set the locale</p>

        
          <div class='highlight'><pre>            locale_locales__getSetGlobalLocale(name);
        } <span class="hljs-keyword">else</span> {</pre></div>
        
      
        
        <p>pass null for config to unupdate, useful for tests</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">if</span> (locales[name] != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (locales[name].parentLocale != <span class="hljs-literal">null</span>) {
                    locales[name] = locales[name].parentLocale;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (locales[name] != <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">delete</span> locales[name];
                }
            }
        }
        <span class="hljs-keyword">return</span> locales[name];
    }</pre></div>
        
      
        
        <p>returns locale data</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">locale_locales__getLocale</span> (<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> locale;

        <span class="hljs-keyword">if</span> (key &amp;&amp; key._locale &amp;&amp; key._locale._abbr) {
            key = key._locale._abbr;
        }

        <span class="hljs-keyword">if</span> (!key) {
            <span class="hljs-keyword">return</span> globalLocale;
        }

        <span class="hljs-keyword">if</span> (!isArray(key)) {</pre></div>
        
      
        
        <p>short-circuit everything else</p>

        
          <div class='highlight'><pre>            locale = loadLocale(key);
            <span class="hljs-keyword">if</span> (locale) {
                <span class="hljs-keyword">return</span> locale;
            }
            key = [key];
        }

        <span class="hljs-keyword">return</span> chooseLocale(key);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">locale_locales__listLocales</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(locales);
    }

    <span class="hljs-keyword">var</span> aliases = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addUnitAlias</span> (<span class="hljs-params">unit, shorthand</span>) </span>{
        <span class="hljs-keyword">var</span> lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + <span class="hljs-string">'s'</span>] = aliases[shorthand] = unit;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeUnits</span>(<span class="hljs-params">units</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> units === <span class="hljs-string">'string'</span> ? aliases[units] || aliases[units.toLowerCase()] : <span class="hljs-literal">undefined</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeObjectUnits</span>(<span class="hljs-params">inputObject</span>) </span>{
        <span class="hljs-keyword">var</span> normalizedInput = {},
            normalizedProp,
            prop;

        <span class="hljs-keyword">for</span> (prop <span class="hljs-keyword">in</span> inputObject) {
            <span class="hljs-keyword">if</span> (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                <span class="hljs-keyword">if</span> (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        <span class="hljs-keyword">return</span> normalizedInput;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeGetSet</span> (<span class="hljs-params">unit, keepTime</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
            <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span>) {
                get_set__set(<span class="hljs-keyword">this</span>, unit, value);
                utils_hooks__hooks.updateOffset(<span class="hljs-keyword">this</span>, keepTime);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> get_set__get(<span class="hljs-keyword">this</span>, unit);
            }
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get_set__get</span> (<span class="hljs-params">mom, unit</span>) </span>{
        <span class="hljs-keyword">return</span> mom.isValid() ?
            mom._d[<span class="hljs-string">'get'</span> + (mom._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>) + unit]() : <span class="hljs-literal">NaN</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get_set__set</span> (<span class="hljs-params">mom, unit, value</span>) </span>{
        <span class="hljs-keyword">if</span> (mom.isValid()) {
            mom._d[<span class="hljs-string">'set'</span> + (mom._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>) + unit](value);
        }
    }</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSet</span> (<span class="hljs-params">units, value</span>) </span>{
        <span class="hljs-keyword">var</span> unit;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> units === <span class="hljs-string">'object'</span>) {
            <span class="hljs-keyword">for</span> (unit <span class="hljs-keyword">in</span> units) {
                <span class="hljs-keyword">this</span>.set(unit, units[unit]);
            }
        } <span class="hljs-keyword">else</span> {
            units = normalizeUnits(units);
            <span class="hljs-keyword">if</span> (isFunction(<span class="hljs-keyword">this</span>[units])) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[units](value);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zeroFill</span>(<span class="hljs-params">number, targetLength, forceSign</span>) </span>{
        <span class="hljs-keyword">var</span> absNumber = <span class="hljs-string">''</span> + <span class="hljs-built_in">Math</span>.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number &gt;= <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> (sign ? (forceSign ? <span class="hljs-string">'+'</span> : <span class="hljs-string">''</span>) : <span class="hljs-string">'-'</span>) +
            <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">10</span>, <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, zerosToFill)).toString().substr(<span class="hljs-number">1</span>) + absNumber;
    }

    <span class="hljs-keyword">var</span> formattingTokens = <span class="hljs-regexp">/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g</span>;

    <span class="hljs-keyword">var</span> localFormattingTokens = <span class="hljs-regexp">/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g</span>;

    <span class="hljs-keyword">var</span> formatFunctions = {};

    <span class="hljs-keyword">var</span> formatTokenFunctions = {};</pre></div>
        
      
        
        <p>token:    ‘M’
padded:   [‘MM’, 2]
ordinal:  ‘Mo’
callback: function () { this.month() + 1 }</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addFormatToken</span> (<span class="hljs-params">token, padded, ordinal, callback</span>) </span>{
        <span class="hljs-keyword">var</span> func = callback;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback === <span class="hljs-string">'string'</span>) {
            func = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[callback]();
            };
        }
        <span class="hljs-keyword">if</span> (token) {
            formatTokenFunctions[token] = func;
        }
        <span class="hljs-keyword">if</span> (padded) {
            formatTokenFunctions[padded[<span class="hljs-number">0</span>]] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> zeroFill(func.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>), padded[<span class="hljs-number">1</span>], padded[<span class="hljs-number">2</span>]);
            };
        }
        <span class="hljs-keyword">if</span> (ordinal) {
            formatTokenFunctions[ordinal] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().ordinal(func.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>), token);
            };
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeFormattingTokens</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (input.match(<span class="hljs-regexp">/\[[\s\S]/</span>)) {
            <span class="hljs-keyword">return</span> input.replace(<span class="hljs-regexp">/^\[|\]$/g</span>, <span class="hljs-string">''</span>);
        }
        <span class="hljs-keyword">return</span> input.replace(<span class="hljs-regexp">/\\/g</span>, <span class="hljs-string">''</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeFormatFunction</span>(<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">var</span> array = format.match(formattingTokens), i, length;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, length = array.length; i &lt; length; i++) {
            <span class="hljs-keyword">if</span> (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } <span class="hljs-keyword">else</span> {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">mom</span>) </span>{
            <span class="hljs-keyword">var</span> output = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; length; i++) {
                output += array[i] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Function</span> ? array[i].call(mom, format) : array[i];
            }
            <span class="hljs-keyword">return</span> output;
        };
    }</pre></div>
        
      
        
        <p>format date using native date object</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatMoment</span>(<span class="hljs-params">m, format</span>) </span>{
        <span class="hljs-keyword">if</span> (!m.isValid()) {
            <span class="hljs-keyword">return</span> m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        <span class="hljs-keyword">return</span> formatFunctions[format](m);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">expandFormat</span>(<span class="hljs-params">format, locale</span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-number">5</span>;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replaceLongDateFormatTokens</span>(<span class="hljs-params">input</span>) </span>{
            <span class="hljs-keyword">return</span> locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (i &gt;= <span class="hljs-number">0</span> &amp;&amp; localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = <span class="hljs-number">0</span>;
            i -= <span class="hljs-number">1</span>;
        }

        <span class="hljs-keyword">return</span> format;
    }

    <span class="hljs-keyword">var</span> match1         = <span class="hljs-regexp">/\d/</span>;            <span class="hljs-comment">//       0 - 9</span>
    <span class="hljs-keyword">var</span> match2         = <span class="hljs-regexp">/\d\d/</span>;          <span class="hljs-comment">//      00 - 99</span>
    <span class="hljs-keyword">var</span> match3         = <span class="hljs-regexp">/\d{3}/</span>;         <span class="hljs-comment">//     000 - 999</span>
    <span class="hljs-keyword">var</span> match4         = <span class="hljs-regexp">/\d{4}/</span>;         <span class="hljs-comment">//    0000 - 9999</span>
    <span class="hljs-keyword">var</span> match6         = <span class="hljs-regexp">/[+-]?\d{6}/</span>;    <span class="hljs-comment">// -999999 - 999999</span>
    <span class="hljs-keyword">var</span> match1to2      = <span class="hljs-regexp">/\d\d?/</span>;         <span class="hljs-comment">//       0 - 99</span>
    <span class="hljs-keyword">var</span> match3to4      = <span class="hljs-regexp">/\d\d\d\d?/</span>;     <span class="hljs-comment">//     999 - 9999</span>
    <span class="hljs-keyword">var</span> match5to6      = <span class="hljs-regexp">/\d\d\d\d\d\d?/</span>; <span class="hljs-comment">//   99999 - 999999</span>
    <span class="hljs-keyword">var</span> match1to3      = <span class="hljs-regexp">/\d{1,3}/</span>;       <span class="hljs-comment">//       0 - 999</span>
    <span class="hljs-keyword">var</span> match1to4      = <span class="hljs-regexp">/\d{1,4}/</span>;       <span class="hljs-comment">//       0 - 9999</span>
    <span class="hljs-keyword">var</span> match1to6      = <span class="hljs-regexp">/[+-]?\d{1,6}/</span>;  <span class="hljs-comment">// -999999 - 999999</span>

    <span class="hljs-keyword">var</span> matchUnsigned  = <span class="hljs-regexp">/\d+/</span>;           <span class="hljs-comment">//       0 - inf</span>
    <span class="hljs-keyword">var</span> matchSigned    = <span class="hljs-regexp">/[+-]?\d+/</span>;      <span class="hljs-comment">//    -inf - inf</span>

    <span class="hljs-keyword">var</span> matchOffset    = <span class="hljs-regexp">/Z|[+-]\d\d:?\d\d/gi</span>; <span class="hljs-comment">// +00:00 -00:00 +0000 -0000 or Z</span>
    <span class="hljs-keyword">var</span> matchShortOffset = <span class="hljs-regexp">/Z|[+-]\d\d(?::?\d\d)?/gi</span>; <span class="hljs-comment">// +00 -00 +00:00 -00:00 +0000 -0000 or Z</span>

    <span class="hljs-keyword">var</span> matchTimestamp = <span class="hljs-regexp">/[+-]?\d+(\.\d{1,3})?/</span>; <span class="hljs-comment">// 123456789 123456789.123</span></pre></div>
        
      
        
        <p>any word (or two) characters or numbers including two/three word month in arabic.
includes scottish gaelic two word and hyphenated months</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> matchWord = <span class="hljs-regexp">/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i</span>;


    <span class="hljs-keyword">var</span> regexes = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addRegexToken</span> (<span class="hljs-params">token, regex, strictRegex</span>) </span>{
        regexes[token] = isFunction(regex) ? regex : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, localeData</span>) </span>{
            <span class="hljs-keyword">return</span> (isStrict &amp;&amp; strictRegex) ? strictRegex : regex;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParseRegexForToken</span> (<span class="hljs-params">token, config</span>) </span>{
        <span class="hljs-keyword">if</span> (!hasOwnProp(regexes, token)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(unescapeFormat(token));
        }

        <span class="hljs-keyword">return</span> regexes[token](config._strict, config._locale);
    }</pre></div>
        
      
        
        <p>Code from <a href="http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript">http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript</a></p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unescapeFormat</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">return</span> regexEscape(s.replace(<span class="hljs-string">'\\'</span>, <span class="hljs-string">''</span>).replace(<span class="hljs-regexp">/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">matched, p1, p2, p3, p4</span>) </span>{
            <span class="hljs-keyword">return</span> p1 || p2 || p3 || p4;
        }));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">regexEscape</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/[-\/\\^$*+?.()|[\]{}]/g</span>, <span class="hljs-string">'\\$&amp;'</span>);
    }

    <span class="hljs-keyword">var</span> tokens = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addParseToken</span> (<span class="hljs-params">token, callback</span>) </span>{
        <span class="hljs-keyword">var</span> i, func = callback;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> token === <span class="hljs-string">'string'</span>) {
            token = [token];
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback === <span class="hljs-string">'number'</span>) {
            func = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
                array[callback] = toInt(input);
            };
        }
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addWeekParseToken</span> (<span class="hljs-params">token, callback</span>) </span>{
        addParseToken(token, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config, token</span>) </span>{
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTimeToArrayFromToken</span>(<span class="hljs-params">token, input, config</span>) </span>{
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span> &amp;&amp; hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    <span class="hljs-keyword">var</span> YEAR = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> MONTH = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> DATE = <span class="hljs-number">2</span>;
    <span class="hljs-keyword">var</span> HOUR = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">var</span> MINUTE = <span class="hljs-number">4</span>;
    <span class="hljs-keyword">var</span> SECOND = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">var</span> MILLISECOND = <span class="hljs-number">6</span>;
    <span class="hljs-keyword">var</span> WEEK = <span class="hljs-number">7</span>;
    <span class="hljs-keyword">var</span> WEEKDAY = <span class="hljs-number">8</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">daysInMonth</span>(<span class="hljs-params">year, month</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">Date</span>.UTC(year, month + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)).getUTCDate();
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'M'</span>, [<span class="hljs-string">'MM'</span>, <span class="hljs-number">2</span>], <span class="hljs-string">'Mo'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.month() + <span class="hljs-number">1</span>;
    });

    addFormatToken(<span class="hljs-string">'MMM'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().monthsShort(<span class="hljs-keyword">this</span>, format);
    });

    addFormatToken(<span class="hljs-string">'MMMM'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().months(<span class="hljs-keyword">this</span>, format);
    });</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'month'</span>, <span class="hljs-string">'M'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'M'</span>,    match1to2);
    addRegexToken(<span class="hljs-string">'MM'</span>,   match1to2, match2);
    addRegexToken(<span class="hljs-string">'MMM'</span>,  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.monthsShortRegex(isStrict);
    });
    addRegexToken(<span class="hljs-string">'MMMM'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.monthsRegex(isStrict);
    });

    addParseToken([<span class="hljs-string">'M'</span>, <span class="hljs-string">'MM'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[MONTH] = toInt(input) - <span class="hljs-number">1</span>;
    });

    addParseToken([<span class="hljs-string">'MMM'</span>, <span class="hljs-string">'MMMM'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config, token</span>) </span>{
        <span class="hljs-keyword">var</span> month = config._locale.monthsParse(input, token, config._strict);</pre></div>
        
      
        
        <p>if we didn’t find a month name, mark the date as invalid.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (month != <span class="hljs-literal">null</span>) {
            array[MONTH] = month;
        } <span class="hljs-keyword">else</span> {
            getParsingFlags(config).invalidMonth = input;
        }
    });</pre></div>
        
      
        
        <p>LOCALES</p>

        
          <div class='highlight'><pre>
    <span class="hljs-keyword">var</span> MONTHS_IN_FORMAT = <span class="hljs-regexp">/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/</span>;
    <span class="hljs-keyword">var</span> defaultLocaleMonths = <span class="hljs-string">'January_February_March_April_May_June_July_August_September_October_November_December'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeMonths</span> (<span class="hljs-params">m, format</span>) </span>{
        <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._months) ? <span class="hljs-keyword">this</span>._months[m.month()] :
            <span class="hljs-keyword">this</span>._months[MONTHS_IN_FORMAT.test(format) ? <span class="hljs-string">'format'</span> : <span class="hljs-string">'standalone'</span>][m.month()];
    }

    <span class="hljs-keyword">var</span> defaultLocaleMonthsShort = <span class="hljs-string">'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeMonthsShort</span> (<span class="hljs-params">m, format</span>) </span>{
        <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._monthsShort) ? <span class="hljs-keyword">this</span>._monthsShort[m.month()] :
            <span class="hljs-keyword">this</span>._monthsShort[MONTHS_IN_FORMAT.test(format) ? <span class="hljs-string">'format'</span> : <span class="hljs-string">'standalone'</span>][m.month()];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeMonthsParse</span> (<span class="hljs-params">monthName, format, strict</span>) </span>{
        <span class="hljs-keyword">var</span> i, mom, regex;

        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._monthsParse) {
            <span class="hljs-keyword">this</span>._monthsParse = [];
            <span class="hljs-keyword">this</span>._longMonthsParse = [];
            <span class="hljs-keyword">this</span>._shortMonthsParse = [];
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) {</pre></div>
        
      
        
        <p>make the regex if we don’t have it already</p>

        
          <div class='highlight'><pre>            mom = create_utc__createUTC([<span class="hljs-number">2000</span>, i]);
            <span class="hljs-keyword">if</span> (strict &amp;&amp; !<span class="hljs-keyword">this</span>._longMonthsParse[i]) {
                <span class="hljs-keyword">this</span>._longMonthsParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
                <span class="hljs-keyword">this</span>._shortMonthsParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
            }
            <span class="hljs-keyword">if</span> (!strict &amp;&amp; !<span class="hljs-keyword">this</span>._monthsParse[i]) {
                regex = <span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>) + <span class="hljs-string">'|^'</span> + <span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>);
                <span class="hljs-keyword">this</span>._monthsParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(regex.replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>), <span class="hljs-string">'i'</span>);
            }</pre></div>
        
      
        
        <p>test the regex</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'MMMM'</span> &amp;&amp; <span class="hljs-keyword">this</span>._longMonthsParse[i].test(monthName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'MMM'</span> &amp;&amp; <span class="hljs-keyword">this</span>._shortMonthsParse[i].test(monthName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!strict &amp;&amp; <span class="hljs-keyword">this</span>._monthsParse[i].test(monthName)) {
                <span class="hljs-keyword">return</span> i;
            }
        }
    }</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setMonth</span> (<span class="hljs-params">mom, value</span>) </span>{
        <span class="hljs-keyword">var</span> dayOfMonth;

        <span class="hljs-keyword">if</span> (!mom.isValid()) {</pre></div>
        
      
        
        <p>No op</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">return</span> mom;
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\d+$/</span>.test(value)) {
                value = toInt(value);
            } <span class="hljs-keyword">else</span> {
                value = mom.localeData().monthsParse(value);</pre></div>
        
      
        
        <p>TODO: Another silent failure?</p>

        
          <div class='highlight'><pre>                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">'number'</span>) {
                    <span class="hljs-keyword">return</span> mom;
                }
            }
        }

        dayOfMonth = <span class="hljs-built_in">Math</span>.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d[<span class="hljs-string">'set'</span> + (mom._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>) + <span class="hljs-string">'Month'</span>](value, dayOfMonth);
        <span class="hljs-keyword">return</span> mom;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetMonth</span> (<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span>) {
            setMonth(<span class="hljs-keyword">this</span>, value);
            utils_hooks__hooks.updateOffset(<span class="hljs-keyword">this</span>, <span class="hljs-literal">true</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> get_set__get(<span class="hljs-keyword">this</span>, <span class="hljs-string">'Month'</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDaysInMonth</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> daysInMonth(<span class="hljs-keyword">this</span>.year(), <span class="hljs-keyword">this</span>.month());
    }

    <span class="hljs-keyword">var</span> defaultMonthsShortRegex = matchWord;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monthsShortRegex</span> (<span class="hljs-params">isStrict</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._monthsParseExact) {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_monthsRegex'</span>)) {
                computeMonthsParse.call(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">if</span> (isStrict) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsShortStrictRegex;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsShortRegex;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsShortStrictRegex &amp;&amp; isStrict ?
                <span class="hljs-keyword">this</span>._monthsShortStrictRegex : <span class="hljs-keyword">this</span>._monthsShortRegex;
        }
    }

    <span class="hljs-keyword">var</span> defaultMonthsRegex = matchWord;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monthsRegex</span> (<span class="hljs-params">isStrict</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._monthsParseExact) {
            <span class="hljs-keyword">if</span> (!hasOwnProp(<span class="hljs-keyword">this</span>, <span class="hljs-string">'_monthsRegex'</span>)) {
                computeMonthsParse.call(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">if</span> (isStrict) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsStrictRegex;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsRegex;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._monthsStrictRegex &amp;&amp; isStrict ?
                <span class="hljs-keyword">this</span>._monthsStrictRegex : <span class="hljs-keyword">this</span>._monthsRegex;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeMonthsParse</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cmpLenRev</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> b.length - a.length;
        }

        <span class="hljs-keyword">var</span> shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) {</pre></div>
        
      
        
        <p>make the regex if we don’t have it already</p>

        
          <div class='highlight'><pre>            mom = create_utc__createUTC([<span class="hljs-number">2000</span>, i]);
            shortPieces.push(<span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>));
            longPieces.push(<span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>));
            mixedPieces.push(<span class="hljs-keyword">this</span>.months(mom, <span class="hljs-string">''</span>));
            mixedPieces.push(<span class="hljs-keyword">this</span>.monthsShort(mom, <span class="hljs-string">''</span>));
        }</pre></div>
        
      
        
        <p>Sorting makes sure if one month (or abbr) is a prefix of another it
will match the longer piece.</p>

        
          <div class='highlight'><pre>        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">12</span>; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        <span class="hljs-keyword">this</span>._monthsRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + mixedPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
        <span class="hljs-keyword">this</span>._monthsShortRegex = <span class="hljs-keyword">this</span>._monthsRegex;
        <span class="hljs-keyword">this</span>._monthsStrictRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + longPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')$'</span>, <span class="hljs-string">'i'</span>);
        <span class="hljs-keyword">this</span>._monthsShortStrictRegex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^('</span> + shortPieces.join(<span class="hljs-string">'|'</span>) + <span class="hljs-string">')$'</span>, <span class="hljs-string">'i'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkOverflow</span> (<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">var</span> overflow;
        <span class="hljs-keyword">var</span> a = m._a;

        <span class="hljs-keyword">if</span> (a &amp;&amp; getParsingFlags(m).overflow === <span class="hljs-number">-2</span>) {
            overflow =
                a[MONTH]       &lt; <span class="hljs-number">0</span> || a[MONTH]       &gt; <span class="hljs-number">11</span>  ? MONTH :
                a[DATE]        &lt; <span class="hljs-number">1</span> || a[DATE]        &gt; daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        &lt; <span class="hljs-number">0</span> || a[HOUR]        &gt; <span class="hljs-number">24</span> || (a[HOUR] === <span class="hljs-number">24</span> &amp;&amp; (a[MINUTE] !== <span class="hljs-number">0</span> || a[SECOND] !== <span class="hljs-number">0</span> || a[MILLISECOND] !== <span class="hljs-number">0</span>)) ? HOUR :
                a[MINUTE]      &lt; <span class="hljs-number">0</span> || a[MINUTE]      &gt; <span class="hljs-number">59</span>  ? MINUTE :
                a[SECOND]      &lt; <span class="hljs-number">0</span> || a[SECOND]      &gt; <span class="hljs-number">59</span>  ? SECOND :
                a[MILLISECOND] &lt; <span class="hljs-number">0</span> || a[MILLISECOND] &gt; <span class="hljs-number">999</span> ? MILLISECOND :
                <span class="hljs-number">-1</span>;

            <span class="hljs-keyword">if</span> (getParsingFlags(m)._overflowDayOfYear &amp;&amp; (overflow &lt; YEAR || overflow &gt; DATE)) {
                overflow = DATE;
            }
            <span class="hljs-keyword">if</span> (getParsingFlags(m)._overflowWeeks &amp;&amp; overflow === <span class="hljs-number">-1</span>) {
                overflow = WEEK;
            }
            <span class="hljs-keyword">if</span> (getParsingFlags(m)._overflowWeekday &amp;&amp; overflow === <span class="hljs-number">-1</span>) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        <span class="hljs-keyword">return</span> m;
    }</pre></div>
        
      
        
        <p>iso 8601 regex
0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> extendedIsoRegex = <span class="hljs-regexp">/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/</span>;
    <span class="hljs-keyword">var</span> basicIsoRegex = <span class="hljs-regexp">/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/</span>;

    <span class="hljs-keyword">var</span> tzRegex = <span class="hljs-regexp">/Z|[+-]\d\d(?::?\d\d)?/</span>;

    <span class="hljs-keyword">var</span> isoDates = [
        [<span class="hljs-string">'YYYYYY-MM-DD'</span>, <span class="hljs-regexp">/[+-]\d{6}-\d\d-\d\d/</span>],
        [<span class="hljs-string">'YYYY-MM-DD'</span>, <span class="hljs-regexp">/\d{4}-\d\d-\d\d/</span>],
        [<span class="hljs-string">'GGGG-[W]WW-E'</span>, <span class="hljs-regexp">/\d{4}-W\d\d-\d/</span>],
        [<span class="hljs-string">'GGGG-[W]WW'</span>, <span class="hljs-regexp">/\d{4}-W\d\d/</span>, <span class="hljs-literal">false</span>],
        [<span class="hljs-string">'YYYY-DDD'</span>, <span class="hljs-regexp">/\d{4}-\d{3}/</span>],
        [<span class="hljs-string">'YYYY-MM'</span>, <span class="hljs-regexp">/\d{4}-\d\d/</span>, <span class="hljs-literal">false</span>],
        [<span class="hljs-string">'YYYYYYMMDD'</span>, <span class="hljs-regexp">/[+-]\d{10}/</span>],
        [<span class="hljs-string">'YYYYMMDD'</span>, <span class="hljs-regexp">/\d{8}/</span>],</pre></div>
        
      
        
        <p>YYYYMM is NOT allowed by the standard</p>

        
          <div class='highlight'><pre>        [<span class="hljs-string">'GGGG[W]WWE'</span>, <span class="hljs-regexp">/\d{4}W\d{3}/</span>],
        [<span class="hljs-string">'GGGG[W]WW'</span>, <span class="hljs-regexp">/\d{4}W\d{2}/</span>, <span class="hljs-literal">false</span>],
        [<span class="hljs-string">'YYYYDDD'</span>, <span class="hljs-regexp">/\d{7}/</span>]
    ];</pre></div>
        
      
        
        <p>iso time formats and regexes</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> isoTimes = [
        [<span class="hljs-string">'HH:mm:ss.SSSS'</span>, <span class="hljs-regexp">/\d\d:\d\d:\d\d\.\d+/</span>],
        [<span class="hljs-string">'HH:mm:ss,SSSS'</span>, <span class="hljs-regexp">/\d\d:\d\d:\d\d,\d+/</span>],
        [<span class="hljs-string">'HH:mm:ss'</span>, <span class="hljs-regexp">/\d\d:\d\d:\d\d/</span>],
        [<span class="hljs-string">'HH:mm'</span>, <span class="hljs-regexp">/\d\d:\d\d/</span>],
        [<span class="hljs-string">'HHmmss.SSSS'</span>, <span class="hljs-regexp">/\d\d\d\d\d\d\.\d+/</span>],
        [<span class="hljs-string">'HHmmss,SSSS'</span>, <span class="hljs-regexp">/\d\d\d\d\d\d,\d+/</span>],
        [<span class="hljs-string">'HHmmss'</span>, <span class="hljs-regexp">/\d\d\d\d\d\d/</span>],
        [<span class="hljs-string">'HHmm'</span>, <span class="hljs-regexp">/\d\d\d\d/</span>],
        [<span class="hljs-string">'HH'</span>, <span class="hljs-regexp">/\d\d/</span>]
    ];

    <span class="hljs-keyword">var</span> aspNetJsonRegex = <span class="hljs-regexp">/^\/?Date\((\-?\d+)/i</span>;</pre></div>
        
      
        
        <p>date from iso format</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromISO</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        <span class="hljs-keyword">if</span> (match) {
            getParsingFlags(config).iso = <span class="hljs-literal">true</span>;

            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, l = isoDates.length; i &lt; l; i++) {
                <span class="hljs-keyword">if</span> (isoDates[i][<span class="hljs-number">1</span>].exec(match[<span class="hljs-number">1</span>])) {
                    dateFormat = isoDates[i][<span class="hljs-number">0</span>];
                    allowTime = isoDates[i][<span class="hljs-number">2</span>] !== <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">break</span>;
                }
            }
            <span class="hljs-keyword">if</span> (dateFormat == <span class="hljs-literal">null</span>) {
                config._isValid = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (match[<span class="hljs-number">3</span>]) {
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, l = isoTimes.length; i &lt; l; i++) {
                    <span class="hljs-keyword">if</span> (isoTimes[i][<span class="hljs-number">1</span>].exec(match[<span class="hljs-number">3</span>])) {</pre></div>
        
      
        
        <p>match[2] should be ‘T’ or space</p>

        
          <div class='highlight'><pre>                        timeFormat = (match[<span class="hljs-number">2</span>] || <span class="hljs-string">' '</span>) + isoTimes[i][<span class="hljs-number">0</span>];
                        <span class="hljs-keyword">break</span>;
                    }
                }
                <span class="hljs-keyword">if</span> (timeFormat == <span class="hljs-literal">null</span>) {
                    config._isValid = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">return</span>;
                }
            }
            <span class="hljs-keyword">if</span> (!allowTime &amp;&amp; timeFormat != <span class="hljs-literal">null</span>) {
                config._isValid = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (match[<span class="hljs-number">4</span>]) {
                <span class="hljs-keyword">if</span> (tzRegex.exec(match[<span class="hljs-number">4</span>])) {
                    tzFormat = <span class="hljs-string">'Z'</span>;
                } <span class="hljs-keyword">else</span> {
                    config._isValid = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">return</span>;
                }
            }
            config._f = dateFormat + (timeFormat || <span class="hljs-string">''</span>) + (tzFormat || <span class="hljs-string">''</span>);
            configFromStringAndFormat(config);
        } <span class="hljs-keyword">else</span> {
            config._isValid = <span class="hljs-literal">false</span>;
        }
    }</pre></div>
        
      
        
        <p>date from iso format or fallback</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromString</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> matched = aspNetJsonRegex.exec(config._i);

        <span class="hljs-keyword">if</span> (matched !== <span class="hljs-literal">null</span>) {
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(+matched[<span class="hljs-number">1</span>]);
            <span class="hljs-keyword">return</span>;
        }

        configFromISO(config);
        <span class="hljs-keyword">if</span> (config._isValid === <span class="hljs-literal">false</span>) {
            <span class="hljs-keyword">delete</span> config._isValid;
            utils_hooks__hooks.createFromInputFallback(config);
        }
    }

    utils_hooks__hooks.createFromInputFallback = deprecate(
        <span class="hljs-string">'moment construction falls back to js Date. This is '</span> +
        <span class="hljs-string">'discouraged and will be removed in upcoming major '</span> +
        <span class="hljs-string">'release. Please refer to '</span> +
        <span class="hljs-string">'https://github.com/moment/moment/issues/1407 for more info.'</span>,
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>{
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(config._i + (config._useUTC ? <span class="hljs-string">' UTC'</span> : <span class="hljs-string">''</span>));
        }
    );

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createDate</span> (<span class="hljs-params">y, m, d, h, M, s, ms</span>) </span>{</pre></div>
        
      
        
        <p>can’t just apply() to create a date:
<a href="http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply">http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply</a></p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(y, m, d, h, M, s, ms);</pre></div>
        
      
        
        <p>the date constructor remaps years 0-99 to 1900-1999</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (y &lt; <span class="hljs-number">100</span> &amp;&amp; y &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">isFinite</span>(date.getFullYear())) {
            date.setFullYear(y);
        }
        <span class="hljs-keyword">return</span> date;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createUTCDate</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">Date</span>.UTC.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>));</pre></div>
        
      
        
        <p>the Date.UTC function remaps years 0-99 to 1900-1999</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (y &lt; <span class="hljs-number">100</span> &amp;&amp; y &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">isFinite</span>(date.getUTCFullYear())) {
            date.setUTCFullYear(y);
        }
        <span class="hljs-keyword">return</span> date;
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'Y'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> y = <span class="hljs-keyword">this</span>.year();
        <span class="hljs-keyword">return</span> y &lt;= <span class="hljs-number">9999</span> ? <span class="hljs-string">''</span> + y : <span class="hljs-string">'+'</span> + y;
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'YY'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.year() % <span class="hljs-number">100</span>;
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'YYYY'</span>,   <span class="hljs-number">4</span>],       <span class="hljs-number">0</span>, <span class="hljs-string">'year'</span>);
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'YYYYY'</span>,  <span class="hljs-number">5</span>],       <span class="hljs-number">0</span>, <span class="hljs-string">'year'</span>);
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'YYYYYY'</span>, <span class="hljs-number">6</span>, <span class="hljs-literal">true</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'year'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'year'</span>, <span class="hljs-string">'y'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'Y'</span>,      matchSigned);
    addRegexToken(<span class="hljs-string">'YY'</span>,     match1to2, match2);
    addRegexToken(<span class="hljs-string">'YYYY'</span>,   match1to4, match4);
    addRegexToken(<span class="hljs-string">'YYYYY'</span>,  match1to6, match6);
    addRegexToken(<span class="hljs-string">'YYYYYY'</span>, match1to6, match6);

    addParseToken([<span class="hljs-string">'YYYYY'</span>, <span class="hljs-string">'YYYYYY'</span>], YEAR);
    addParseToken(<span class="hljs-string">'YYYY'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[YEAR] = input.length === <span class="hljs-number">2</span> ? utils_hooks__hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken(<span class="hljs-string">'YY'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);
    });
    addParseToken(<span class="hljs-string">'Y'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[YEAR] = <span class="hljs-built_in">parseInt</span>(input, <span class="hljs-number">10</span>);
    });</pre></div>
        
      
        
        <p>HELPERS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">daysInYear</span>(<span class="hljs-params">year</span>) </span>{
        <span class="hljs-keyword">return</span> isLeapYear(year) ? <span class="hljs-number">366</span> : <span class="hljs-number">365</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLeapYear</span>(<span class="hljs-params">year</span>) </span>{
        <span class="hljs-keyword">return</span> (year % <span class="hljs-number">4</span> === <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> !== <span class="hljs-number">0</span>) || year % <span class="hljs-number">400</span> === <span class="hljs-number">0</span>;
    }</pre></div>
        
      
        
        <p>HOOKS</p>

        
          <div class='highlight'><pre>
    utils_hooks__hooks.parseTwoDigitYear = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> toInt(input) + (toInt(input) &gt; <span class="hljs-number">68</span> ? <span class="hljs-number">1900</span> : <span class="hljs-number">2000</span>);
    };</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-keyword">var</span> getSetYear = makeGetSet(<span class="hljs-string">'FullYear'</span>, <span class="hljs-literal">false</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getIsLeapYear</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> isLeapYear(<span class="hljs-keyword">this</span>.year());
    }</pre></div>
        
      
        
        <p>start-of-first-week - start-of-year</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">firstWeekOffset</span>(<span class="hljs-params">year, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> <span class="hljs-comment">// first-week day -- which january is always in the first week (4 for iso, 1 for other)</span>
            fwd = <span class="hljs-number">7</span> + dow - doy,</pre></div>
        
      
        
        <p>first-week day local weekday – which local weekday is fwd</p>

        
          <div class='highlight'><pre>            fwdlw = (<span class="hljs-number">7</span> + createUTCDate(year, <span class="hljs-number">0</span>, fwd).getUTCDay() - dow) % <span class="hljs-number">7</span>;

        <span class="hljs-keyword">return</span> -fwdlw + fwd - <span class="hljs-number">1</span>;
    }</pre></div>
        
      
        
        <p><a href="http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday">http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday</a></p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dayOfYearFromWeeks</span>(<span class="hljs-params">year, week, weekday, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> localWeekday = (<span class="hljs-number">7</span> + weekday - dow) % <span class="hljs-number">7</span>,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = <span class="hljs-number">1</span> + <span class="hljs-number">7</span> * (week - <span class="hljs-number">1</span>) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        <span class="hljs-keyword">if</span> (dayOfYear &lt;= <span class="hljs-number">0</span>) {
            resYear = year - <span class="hljs-number">1</span>;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dayOfYear &gt; daysInYear(year)) {
            resYear = year + <span class="hljs-number">1</span>;
            resDayOfYear = dayOfYear - daysInYear(year);
        } <span class="hljs-keyword">else</span> {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        <span class="hljs-keyword">return</span> {
            year: resYear,
            dayOfYear: resDayOfYear
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weekOfYear</span>(<span class="hljs-params">mom, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = <span class="hljs-built_in">Math</span>.floor((mom.dayOfYear() - weekOffset - <span class="hljs-number">1</span>) / <span class="hljs-number">7</span>) + <span class="hljs-number">1</span>,
            resWeek, resYear;

        <span class="hljs-keyword">if</span> (week &lt; <span class="hljs-number">1</span>) {
            resYear = mom.year() - <span class="hljs-number">1</span>;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (week &gt; weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            resYear = mom.year();
            resWeek = week;
        }

        <span class="hljs-keyword">return</span> {
            week: resWeek,
            year: resYear
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weeksInYear</span>(<span class="hljs-params">year, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + <span class="hljs-number">1</span>, dow, doy);
        <span class="hljs-keyword">return</span> (daysInYear(year) - weekOffset + weekOffsetNext) / <span class="hljs-number">7</span>;
    }</pre></div>
        
      
        
        <p>Pick the first defined of two or three arguments.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaults</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">if</span> (a != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> a;
        }
        <span class="hljs-keyword">if</span> (b != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> b;
        }
        <span class="hljs-keyword">return</span> c;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">currentDateArray</span>(<span class="hljs-params">config</span>) </span>{</pre></div>
        
      
        
        <p>hooks is actually the exported moment object</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">var</span> nowValue = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(utils_hooks__hooks.now());
        <span class="hljs-keyword">if</span> (config._useUTC) {
            <span class="hljs-keyword">return</span> [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        <span class="hljs-keyword">return</span> [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }</pre></div>
        
      
        
        <p>convert an array to a date.
the array should mirror the parameters below
note: all values past the year are optional and will default to the lowest possible value.
[year, month, day , hour, minute, second, millisecond]</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromArray</span> (<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> i, date, input = [], currentDate, yearToUse;

        <span class="hljs-keyword">if</span> (config._d) {
            <span class="hljs-keyword">return</span>;
        }

        currentDate = currentDateArray(config);</pre></div>
        
      
        
        <p>compute day of the year from weeks and weekdays</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (config._w &amp;&amp; config._a[DATE] == <span class="hljs-literal">null</span> &amp;&amp; config._a[MONTH] == <span class="hljs-literal">null</span>) {
            dayOfYearFromWeekInfo(config);
        }</pre></div>
        
      
        
        <p>if the day of the year is set, figure out what it is</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (config._dayOfYear) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            <span class="hljs-keyword">if</span> (config._dayOfYear &gt; daysInYear(yearToUse)) {
                getParsingFlags(config)._overflowDayOfYear = <span class="hljs-literal">true</span>;
            }

            date = createUTCDate(yearToUse, <span class="hljs-number">0</span>, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }</pre></div>
        
      
        
        <p>Default to current date.</p>
<ul>
<li>if no year, month, day of month are given, default to today</li>
<li>if day of month is given, default month and year</li>
<li>if month is given, default only year</li>
<li>if year is given, don’t default anything</li>
</ul>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span> &amp;&amp; config._a[i] == <span class="hljs-literal">null</span>; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }</pre></div>
        
      
        
        <p>Zero out whatever was not defaulted, including time</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">for</span> (; i &lt; <span class="hljs-number">7</span>; i++) {
            config._a[i] = input[i] = (config._a[i] == <span class="hljs-literal">null</span>) ? (i === <span class="hljs-number">2</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>) : config._a[i];
        }</pre></div>
        
      
        
        <p>Check for 24:00:00.000</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (config._a[HOUR] === <span class="hljs-number">24</span> &amp;&amp;
                config._a[MINUTE] === <span class="hljs-number">0</span> &amp;&amp;
                config._a[SECOND] === <span class="hljs-number">0</span> &amp;&amp;
                config._a[MILLISECOND] === <span class="hljs-number">0</span>) {
            config._nextDay = <span class="hljs-literal">true</span>;
            config._a[HOUR] = <span class="hljs-number">0</span>;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(<span class="hljs-literal">null</span>, input);</pre></div>
        
      
        
        <p>Apply timezone offset from input. The actual utcOffset can be changed
with parseZone.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (config._tzm != <span class="hljs-literal">null</span>) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        <span class="hljs-keyword">if</span> (config._nextDay) {
            config._a[HOUR] = <span class="hljs-number">24</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dayOfYearFromWeekInfo</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        <span class="hljs-keyword">if</span> (w.GG != <span class="hljs-literal">null</span> || w.W != <span class="hljs-literal">null</span> || w.E != <span class="hljs-literal">null</span>) {
            dow = <span class="hljs-number">1</span>;
            doy = <span class="hljs-number">4</span>;</pre></div>
        
      
        
        <p>TODO: We need to take the current isoWeekYear, but that depends on
how we interpret now (local, utc, fixed offset). So create
a now version of current config (take local/utc/offset flags, and
create now).</p>

        
          <div class='highlight'><pre>            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), <span class="hljs-number">1</span>, <span class="hljs-number">4</span>).year);
            week = defaults(w.W, <span class="hljs-number">1</span>);
            weekday = defaults(w.E, <span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (weekday &lt; <span class="hljs-number">1</span> || weekday &gt; <span class="hljs-number">7</span>) {
                weekdayOverflow = <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);
            week = defaults(w.w, <span class="hljs-number">1</span>);

            <span class="hljs-keyword">if</span> (w.d != <span class="hljs-literal">null</span>) {</pre></div>
        
      
        
        <p>weekday – low day numbers are considered next week</p>

        
          <div class='highlight'><pre>                weekday = w.d;
                <span class="hljs-keyword">if</span> (weekday &lt; <span class="hljs-number">0</span> || weekday &gt; <span class="hljs-number">6</span>) {
                    weekdayOverflow = <span class="hljs-literal">true</span>;
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (w.e != <span class="hljs-literal">null</span>) {</pre></div>
        
      
        
        <p>local weekday – counting starts from begining of week</p>

        
          <div class='highlight'><pre>                weekday = w.e + dow;
                <span class="hljs-keyword">if</span> (w.e &lt; <span class="hljs-number">0</span> || w.e &gt; <span class="hljs-number">6</span>) {
                    weekdayOverflow = <span class="hljs-literal">true</span>;
                }
            } <span class="hljs-keyword">else</span> {</pre></div>
        
      
        
        <p>default to begining of week</p>

        
          <div class='highlight'><pre>                weekday = dow;
            }
        }
        <span class="hljs-keyword">if</span> (week &lt; <span class="hljs-number">1</span> || week &gt; weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (weekdayOverflow != <span class="hljs-literal">null</span>) {
            getParsingFlags(config)._overflowWeekday = <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }</pre></div>
        
      
        
        <p>constant that refers to the ISO standard</p>

        
          <div class='highlight'><pre>    utils_hooks__hooks.ISO_8601 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};</pre></div>
        
      
        
        <p>date from string and format string</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromStringAndFormat</span>(<span class="hljs-params">config</span>) </span>{</pre></div>
        
      
        
        <p>TODO: Move this to another part of the creation flow to prevent circular deps</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (config._f === utils_hooks__hooks.ISO_8601) {
            configFromISO(config);
            <span class="hljs-keyword">return</span>;
        }

        config._a = [];
        getParsingFlags(config).empty = <span class="hljs-literal">true</span>;</pre></div>
        
      
        
        <p>This array is used to make a Date, either with <code>new Date</code> or <code>Date.UTC</code></p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">var</span> string = <span class="hljs-string">''</span> + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = <span class="hljs-number">0</span>;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[<span class="hljs-number">0</span>];</pre></div>
        
      
        
        <p>console.log(‘token’, token, ‘parsedInput’, parsedInput,
        ‘regex’, getParseRegexForToken(token, config));</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">if</span> (parsedInput) {
                skipped = string.substr(<span class="hljs-number">0</span>, string.indexOf(parsedInput));
                <span class="hljs-keyword">if</span> (skipped.length &gt; <span class="hljs-number">0</span>) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }</pre></div>
        
      
        
        <p>don’t parse if it’s not a known token</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">if</span> (formatTokenFunctions[token]) {
                <span class="hljs-keyword">if</span> (parsedInput) {
                    getParsingFlags(config).empty = <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">else</span> {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (config._strict &amp;&amp; !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }</pre></div>
        
      
        
        <p>add remaining unparsed input length to the string</p>

        
          <div class='highlight'><pre>        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        <span class="hljs-keyword">if</span> (string.length &gt; <span class="hljs-number">0</span>) {
            getParsingFlags(config).unusedInput.push(string);
        }</pre></div>
        
      
        
        <p>clear _12h flag if hour is &lt;= 12</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (getParsingFlags(config).bigHour === <span class="hljs-literal">true</span> &amp;&amp;
                config._a[HOUR] &lt;= <span class="hljs-number">12</span> &amp;&amp;
                config._a[HOUR] &gt; <span class="hljs-number">0</span>) {
            getParsingFlags(config).bigHour = <span class="hljs-literal">undefined</span>;
        }</pre></div>
        
      
        
        <p>handle meridiem</p>

        
          <div class='highlight'><pre>        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">meridiemFixWrap</span> (<span class="hljs-params">locale, hour, meridiem</span>) </span>{
        <span class="hljs-keyword">var</span> isPm;

        <span class="hljs-keyword">if</span> (meridiem == <span class="hljs-literal">null</span>) {</pre></div>
        
      
        
        <p>nothing to do</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">return</span> hour;
        }
        <span class="hljs-keyword">if</span> (locale.meridiemHour != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> locale.meridiemHour(hour, meridiem);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (locale.isPM != <span class="hljs-literal">null</span>) {</pre></div>
        
      
        
        <p>Fallback</p>

        
          <div class='highlight'><pre>            isPm = locale.isPM(meridiem);
            <span class="hljs-keyword">if</span> (isPm &amp;&amp; hour &lt; <span class="hljs-number">12</span>) {
                hour += <span class="hljs-number">12</span>;
            }
            <span class="hljs-keyword">if</span> (!isPm &amp;&amp; hour === <span class="hljs-number">12</span>) {
                hour = <span class="hljs-number">0</span>;
            }
            <span class="hljs-keyword">return</span> hour;
        } <span class="hljs-keyword">else</span> {</pre></div>
        
      
        
        <p>this is not supposed to happen</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">return</span> hour;
        }
    }</pre></div>
        
      
        
        <p>date from string and array of format strings</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromStringAndArray</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        <span class="hljs-keyword">if</span> (config._f.length === <span class="hljs-number">0</span>) {
            getParsingFlags(config).invalidFormat = <span class="hljs-literal">true</span>;
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-literal">NaN</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; config._f.length; i++) {
            currentScore = <span class="hljs-number">0</span>;
            tempConfig = copyConfig({}, config);
            <span class="hljs-keyword">if</span> (config._useUTC != <span class="hljs-literal">null</span>) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            <span class="hljs-keyword">if</span> (!valid__isValid(tempConfig)) {
                <span class="hljs-keyword">continue</span>;
            }</pre></div>
        
      
        
        <p>if there is any input that was not parsed add a penalty for that format</p>

        
          <div class='highlight'><pre>            currentScore += getParsingFlags(tempConfig).charsLeftOver;</pre></div>
        
      
        
        <p>or tokens</p>

        
          <div class='highlight'><pre>            currentScore += getParsingFlags(tempConfig).unusedTokens.length * <span class="hljs-number">10</span>;

            getParsingFlags(tempConfig).score = currentScore;

            <span class="hljs-keyword">if</span> (scoreToBeat == <span class="hljs-literal">null</span> || currentScore &lt; scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromObject</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">if</span> (config._d) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">var</span> i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>{
            <span class="hljs-keyword">return</span> obj &amp;&amp; <span class="hljs-built_in">parseInt</span>(obj, <span class="hljs-number">10</span>);
        });

        configFromArray(config);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createFromConfig</span> (<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> res = <span class="hljs-keyword">new</span> Moment(checkOverflow(prepareConfig(config)));
        <span class="hljs-keyword">if</span> (res._nextDay) {</pre></div>
        
      
        
        <p>Adding is smart enough around DST</p>

        
          <div class='highlight'><pre>            res.add(<span class="hljs-number">1</span>, <span class="hljs-string">'d'</span>);
            res._nextDay = <span class="hljs-literal">undefined</span>;
        }

        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareConfig</span> (<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> input = config._i,
            format = config._f;

        config._locale = config._locale || locale_locales__getLocale(config._l);

        <span class="hljs-keyword">if</span> (input === <span class="hljs-literal">null</span> || (format === <span class="hljs-literal">undefined</span> &amp;&amp; input === <span class="hljs-string">''</span>)) {
            <span class="hljs-keyword">return</span> valid__createInvalid({nullInput: <span class="hljs-literal">true</span>});
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'string'</span>) {
            config._i = input = config._locale.preparse(input);
        }

        <span class="hljs-keyword">if</span> (isMoment(input)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Moment(checkOverflow(input));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isArray(format)) {
            configFromStringAndArray(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (format) {
            configFromStringAndFormat(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isDate(input)) {
            config._d = input;
        } <span class="hljs-keyword">else</span> {
            configFromInput(config);
        }

        <span class="hljs-keyword">if</span> (!valid__isValid(config)) {
            config._d = <span class="hljs-literal">null</span>;
        }

        <span class="hljs-keyword">return</span> config;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">configFromInput</span>(<span class="hljs-params">config</span>) </span>{
        <span class="hljs-keyword">var</span> input = config._i;
        <span class="hljs-keyword">if</span> (input === <span class="hljs-literal">undefined</span>) {
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(utils_hooks__hooks.now());
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isDate(input)) {
            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(+input);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'string'</span>) {
            configFromString(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isArray(input)) {
            config._a = map(input.slice(<span class="hljs-number">0</span>), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(obj, <span class="hljs-number">10</span>);
            });
            configFromArray(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(input) === <span class="hljs-string">'object'</span>) {
            configFromObject(config);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(input) === <span class="hljs-string">'number'</span>) {</pre></div>
        
      
        
        <p>from milliseconds</p>

        
          <div class='highlight'><pre>            config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(input);
        } <span class="hljs-keyword">else</span> {
            utils_hooks__hooks.createFromInputFallback(config);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLocalOrUTC</span> (<span class="hljs-params">input, format, locale, strict, isUTC</span>) </span>{
        <span class="hljs-keyword">var</span> c = {};

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(locale) === <span class="hljs-string">'boolean'</span>) {
            strict = locale;
            locale = <span class="hljs-literal">undefined</span>;
        }</pre></div>
        
      
        
        <p>object construction must be done this way.
<a href="https://github.com/moment/moment/issues/1423">https://github.com/moment/moment/issues/1423</a></p>

        
          <div class='highlight'><pre>        c._isAMomentObject = <span class="hljs-literal">true</span>;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        <span class="hljs-keyword">return</span> createFromConfig(c);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">local__createLocal</span> (<span class="hljs-params">input, format, locale, strict</span>) </span>{
        <span class="hljs-keyword">return</span> createLocalOrUTC(input, format, locale, strict, <span class="hljs-literal">false</span>);
    }

    <span class="hljs-keyword">var</span> prototypeMin = deprecate(
         <span class="hljs-string">'moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548'</span>,
         <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
             <span class="hljs-keyword">var</span> other = local__createLocal.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
             <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isValid() &amp;&amp; other.isValid()) {
                 <span class="hljs-keyword">return</span> other &lt; <span class="hljs-keyword">this</span> ? <span class="hljs-keyword">this</span> : other;
             } <span class="hljs-keyword">else</span> {
                 <span class="hljs-keyword">return</span> valid__createInvalid();
             }
         }
     );

    <span class="hljs-keyword">var</span> prototypeMax = deprecate(
        <span class="hljs-string">'moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548'</span>,
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> other = local__createLocal.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isValid() &amp;&amp; other.isValid()) {
                <span class="hljs-keyword">return</span> other &gt; <span class="hljs-keyword">this</span> ? <span class="hljs-keyword">this</span> : other;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> valid__createInvalid();
            }
        }
    );</pre></div>
        
      
        
        <p>Pick a moment m from moments so that m<a href="other">fn</a> is true for all
other. This relies on the function fn to be transitive.</p>
<p>moments should either be an array of moment objects or an array, whose
first element is an array of moment objects.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pickBy</span>(<span class="hljs-params">fn, moments</span>) </span>{
        <span class="hljs-keyword">var</span> res, i;
        <span class="hljs-keyword">if</span> (moments.length === <span class="hljs-number">1</span> &amp;&amp; isArray(moments[<span class="hljs-number">0</span>])) {
            moments = moments[<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">if</span> (!moments.length) {
            <span class="hljs-keyword">return</span> local__createLocal();
        }
        res = moments[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; moments.length; ++i) {
            <span class="hljs-keyword">if</span> (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        <span class="hljs-keyword">return</span> res;
    }</pre></div>
        
      
        
        <p>TODO: Use [].sort instead?</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">min</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> args = [].slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);

        <span class="hljs-keyword">return</span> pickBy(<span class="hljs-string">'isBefore'</span>, args);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">max</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> args = [].slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);

        <span class="hljs-keyword">return</span> pickBy(<span class="hljs-string">'isAfter'</span>, args);
    }

    <span class="hljs-keyword">var</span> now = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Date</span>.now ? <span class="hljs-built_in">Date</span>.now() : +(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>());
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Duration</span> (<span class="hljs-params">duration</span>) </span>{
        <span class="hljs-keyword">var</span> normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || <span class="hljs-number">0</span>,
            quarters = normalizedInput.quarter || <span class="hljs-number">0</span>,
            months = normalizedInput.month || <span class="hljs-number">0</span>,
            weeks = normalizedInput.week || <span class="hljs-number">0</span>,
            days = normalizedInput.day || <span class="hljs-number">0</span>,
            hours = normalizedInput.hour || <span class="hljs-number">0</span>,
            minutes = normalizedInput.minute || <span class="hljs-number">0</span>,
            seconds = normalizedInput.second || <span class="hljs-number">0</span>,
            milliseconds = normalizedInput.millisecond || <span class="hljs-number">0</span>;</pre></div>
        
      
        
        <p>representation for dateAddRemove</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">this</span>._milliseconds = +milliseconds +
            seconds * <span class="hljs-number">1e3</span> + <span class="hljs-comment">// 1000</span>
            minutes * <span class="hljs-number">6e4</span> + <span class="hljs-comment">// 1000 * 60</span>
            hours * <span class="hljs-number">36e5</span>; <span class="hljs-comment">// 1000 * 60 * 60</span></pre></div>
        
      
        
        <p>Because of dateAddRemove treats 24 hours as different from a
day when working around DST, we need to store them separately</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">this</span>._days = +days +
            weeks * <span class="hljs-number">7</span>;</pre></div>
        
      
        
        <p>It is impossible translate months into days without knowing
which months you are are talking about, so we have to store
it separately.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">this</span>._months = +months +
            quarters * <span class="hljs-number">3</span> +
            years * <span class="hljs-number">12</span>;

        <span class="hljs-keyword">this</span>._data = {};

        <span class="hljs-keyword">this</span>._locale = locale_locales__getLocale();

        <span class="hljs-keyword">this</span>._bubble();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDuration</span> (<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> obj <span class="hljs-keyword">instanceof</span> Duration;
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">offset</span> (<span class="hljs-params">token, separator</span>) </span>{
        addFormatToken(token, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> offset = <span class="hljs-keyword">this</span>.utcOffset();
            <span class="hljs-keyword">var</span> sign = <span class="hljs-string">'+'</span>;
            <span class="hljs-keyword">if</span> (offset &lt; <span class="hljs-number">0</span>) {
                offset = -offset;
                sign = <span class="hljs-string">'-'</span>;
            }
            <span class="hljs-keyword">return</span> sign + zeroFill(~~(offset / <span class="hljs-number">60</span>), <span class="hljs-number">2</span>) + separator + zeroFill(~~(offset) % <span class="hljs-number">60</span>, <span class="hljs-number">2</span>);
        });
    }

    offset(<span class="hljs-string">'Z'</span>, <span class="hljs-string">':'</span>);
    offset(<span class="hljs-string">'ZZ'</span>, <span class="hljs-string">''</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'Z'</span>,  matchShortOffset);
    addRegexToken(<span class="hljs-string">'ZZ'</span>, matchShortOffset);
    addParseToken([<span class="hljs-string">'Z'</span>, <span class="hljs-string">'ZZ'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._useUTC = <span class="hljs-literal">true</span>;
        config._tzm = offsetFromString(matchShortOffset, input);
    });</pre></div>
        
      
        
        <p>HELPERS</p>

        
      
        
        <p>timezone chunker
‘+10:00’ &gt; [‘10’,  ‘00’]
‘-1530’  &gt; [‘-15’, ‘30’]</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> chunkOffset = <span class="hljs-regexp">/([\+\-]|\d\d)/gi</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">offsetFromString</span>(<span class="hljs-params">matcher, string</span>) </span>{
        <span class="hljs-keyword">var</span> matches = ((string || <span class="hljs-string">''</span>).match(matcher) || []);
        <span class="hljs-keyword">var</span> chunk   = matches[matches.length - <span class="hljs-number">1</span>] || [];
        <span class="hljs-keyword">var</span> parts   = (chunk + <span class="hljs-string">''</span>).match(chunkOffset) || [<span class="hljs-string">'-'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> minutes = +(parts[<span class="hljs-number">1</span>] * <span class="hljs-number">60</span>) + toInt(parts[<span class="hljs-number">2</span>]);

        <span class="hljs-keyword">return</span> parts[<span class="hljs-number">0</span>] === <span class="hljs-string">'+'</span> ? minutes : -minutes;
    }</pre></div>
        
      
        
        <p>Return a moment from input, that is local/utc/zone equivalent to model.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cloneWithOffset</span>(<span class="hljs-params">input, model</span>) </span>{
        <span class="hljs-keyword">var</span> res, diff;
        <span class="hljs-keyword">if</span> (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? +input : +local__createLocal(input)) - (+res);</pre></div>
        
      
        
        <p>Use low-level api, because this fn is low-level api.</p>

        
          <div class='highlight'><pre>            res._d.setTime(+res._d + diff);
            utils_hooks__hooks.updateOffset(res, <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">return</span> res;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> local__createLocal(input).local();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDateOffset</span> (<span class="hljs-params">m</span>) </span>{</pre></div>
        
      
        
        <p>On Firefox.24 Date#getTimezoneOffset returns a floating point.
<a href="https://github.com/moment/moment/pull/1871">https://github.com/moment/moment/pull/1871</a></p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">return</span> -<span class="hljs-built_in">Math</span>.round(m._d.getTimezoneOffset() / <span class="hljs-number">15</span>) * <span class="hljs-number">15</span>;
    }</pre></div>
        
      
        
        <p>HOOKS</p>

        
      
        
        <p>This function will be called whenever a moment is mutated.
It is intended to keep the offset in sync with the timezone.</p>

        
          <div class='highlight'><pre>    utils_hooks__hooks.updateOffset = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};</pre></div>
        
      
        
        <p>MOMENTS</p>

        
      
        
        <p>keepLocalTime = true means only change the timezone, without
affecting the local hour. So 5:31:26 +0300 –[utcOffset(2, true)]–&gt;
5:31:26 +0200 It is possible that 5:31:26 doesn’t exist with offset
+0200, so we adjust the time as needed, to be valid.</p>
<p>Keeping the time actually adds/subtracts (one hour)
from the actual represented time. That is why we call updateOffset
a second time. In case it wants us to change the offset again
_changeInProgress == true case, then we have to adjust, because
there is no such time in the given timezone.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetOffset</span> (<span class="hljs-params">input, keepLocalTime</span>) </span>{
        <span class="hljs-keyword">var</span> offset = <span class="hljs-keyword">this</span>._offset || <span class="hljs-number">0</span>,
            localAdjust;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'string'</span>) {
                input = offsetFromString(matchShortOffset, input);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.abs(input) &lt; <span class="hljs-number">16</span>) {
                input = input * <span class="hljs-number">60</span>;
            }
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._isUTC &amp;&amp; keepLocalTime) {
                localAdjust = getDateOffset(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">this</span>._offset = input;
            <span class="hljs-keyword">this</span>._isUTC = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (localAdjust != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">this</span>.add(localAdjust, <span class="hljs-string">'m'</span>);
            }
            <span class="hljs-keyword">if</span> (offset !== input) {
                <span class="hljs-keyword">if</span> (!keepLocalTime || <span class="hljs-keyword">this</span>._changeInProgress) {
                    add_subtract__addSubtract(<span class="hljs-keyword">this</span>, create__createDuration(input - offset, <span class="hljs-string">'m'</span>), <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._changeInProgress) {
                    <span class="hljs-keyword">this</span>._changeInProgress = <span class="hljs-literal">true</span>;
                    utils_hooks__hooks.updateOffset(<span class="hljs-keyword">this</span>, <span class="hljs-literal">true</span>);
                    <span class="hljs-keyword">this</span>._changeInProgress = <span class="hljs-literal">null</span>;
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isUTC ? offset : getDateOffset(<span class="hljs-keyword">this</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetZone</span> (<span class="hljs-params">input, keepLocalTime</span>) </span>{
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input !== <span class="hljs-string">'string'</span>) {
                input = -input;
            }

            <span class="hljs-keyword">this</span>.utcOffset(input, keepLocalTime);

            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> -<span class="hljs-keyword">this</span>.utcOffset();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setOffsetToUTC</span> (<span class="hljs-params">keepLocalTime</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.utcOffset(<span class="hljs-number">0</span>, keepLocalTime);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setOffsetToLocal</span> (<span class="hljs-params">keepLocalTime</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isUTC) {
            <span class="hljs-keyword">this</span>.utcOffset(<span class="hljs-number">0</span>, keepLocalTime);
            <span class="hljs-keyword">this</span>._isUTC = <span class="hljs-literal">false</span>;

            <span class="hljs-keyword">if</span> (keepLocalTime) {
                <span class="hljs-keyword">this</span>.subtract(getDateOffset(<span class="hljs-keyword">this</span>), <span class="hljs-string">'m'</span>);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setOffsetToParsedOffset</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._tzm) {
            <span class="hljs-keyword">this</span>.utcOffset(<span class="hljs-keyword">this</span>._tzm);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>._i === <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">this</span>.utcOffset(offsetFromString(matchOffset, <span class="hljs-keyword">this</span>._i));
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasAlignedHourOffset</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        input = input ? local__createLocal(input).utcOffset() : <span class="hljs-number">0</span>;

        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.utcOffset() - input) % <span class="hljs-number">60</span> === <span class="hljs-number">0</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDaylightSavingTime</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (
            <span class="hljs-keyword">this</span>.utcOffset() &gt; <span class="hljs-keyword">this</span>.clone().month(<span class="hljs-number">0</span>).utcOffset() ||
            <span class="hljs-keyword">this</span>.utcOffset() &gt; <span class="hljs-keyword">this</span>.clone().month(<span class="hljs-number">5</span>).utcOffset()
        );
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDaylightSavingTimeShifted</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!isUndefined(<span class="hljs-keyword">this</span>._isDSTShifted)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isDSTShifted;
        }

        <span class="hljs-keyword">var</span> c = {};

        copyConfig(c, <span class="hljs-keyword">this</span>);
        c = prepareConfig(c);

        <span class="hljs-keyword">if</span> (c._a) {
            <span class="hljs-keyword">var</span> other = c._isUTC ? create_utc__createUTC(c._a) : local__createLocal(c._a);
            <span class="hljs-keyword">this</span>._isDSTShifted = <span class="hljs-keyword">this</span>.isValid() &amp;&amp;
                compareArrays(c._a, other.toArray()) &gt; <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>._isDSTShifted = <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isDSTShifted;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLocal</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? !<span class="hljs-keyword">this</span>._isUTC : <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUtcOffset</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? <span class="hljs-keyword">this</span>._isUTC : <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUtc</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? <span class="hljs-keyword">this</span>._isUTC &amp;&amp; <span class="hljs-keyword">this</span>._offset === <span class="hljs-number">0</span> : <span class="hljs-literal">false</span>;
    }</pre></div>
        
      
        
        <p>ASP.NET json date format regex</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> aspNetRegex = <span class="hljs-regexp">/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/</span>;</pre></div>
        
      
        
        <p>from <a href="http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html">http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html</a>
somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
and further modified to allow for strings containing both week and day</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> isoRegex = <span class="hljs-regexp">/^(-)?P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?$/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create__createDuration</span> (<span class="hljs-params">input, key</span>) </span>{
        <span class="hljs-keyword">var</span> duration = input,</pre></div>
        
      
        
        <p>matching against regexp is expensive, do it on demand</p>

        
          <div class='highlight'><pre>            match = <span class="hljs-literal">null</span>,
            sign,
            ret,
            diffRes;

        <span class="hljs-keyword">if</span> (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'number'</span>) {
            duration = {};
            <span class="hljs-keyword">if</span> (key) {
                duration[key] = input;
            } <span class="hljs-keyword">else</span> {
                duration.milliseconds = input;
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!!(match = aspNetRegex.exec(input))) {
            sign = (match[<span class="hljs-number">1</span>] === <span class="hljs-string">'-'</span>) ? <span class="hljs-number">-1</span> : <span class="hljs-number">1</span>;
            duration = {
                y  : <span class="hljs-number">0</span>,
                d  : toInt(match[DATE])        * sign,
                h  : toInt(match[HOUR])        * sign,
                m  : toInt(match[MINUTE])      * sign,
                s  : toInt(match[SECOND])      * sign,
                ms : toInt(match[MILLISECOND]) * sign
            };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!!(match = isoRegex.exec(input))) {
            sign = (match[<span class="hljs-number">1</span>] === <span class="hljs-string">'-'</span>) ? <span class="hljs-number">-1</span> : <span class="hljs-number">1</span>;
            duration = {
                y : parseIso(match[<span class="hljs-number">2</span>], sign),
                M : parseIso(match[<span class="hljs-number">3</span>], sign),
                w : parseIso(match[<span class="hljs-number">4</span>], sign),
                d : parseIso(match[<span class="hljs-number">5</span>], sign),
                h : parseIso(match[<span class="hljs-number">6</span>], sign),
                m : parseIso(match[<span class="hljs-number">7</span>], sign),
                s : parseIso(match[<span class="hljs-number">8</span>], sign)
            };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (duration == <span class="hljs-literal">null</span>) {<span class="hljs-comment">// checks for null or undefined</span>
            duration = {};
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> duration === <span class="hljs-string">'object'</span> &amp;&amp; (<span class="hljs-string">'from'</span> <span class="hljs-keyword">in</span> duration || <span class="hljs-string">'to'</span> <span class="hljs-keyword">in</span> duration)) {
            diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = <span class="hljs-keyword">new</span> Duration(duration);

        <span class="hljs-keyword">if</span> (isDuration(input) &amp;&amp; hasOwnProp(input, <span class="hljs-string">'_locale'</span>)) {
            ret._locale = input._locale;
        }

        <span class="hljs-keyword">return</span> ret;
    }

    create__createDuration.fn = Duration.prototype;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseIso</span> (<span class="hljs-params">inp, sign</span>) </span>{</pre></div>
        
      
        
        <p>We’d normally use ~~inp for this, but unfortunately it also
converts floats to ints.
inp may be undefined, so careful calling replace on it.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">var</span> res = inp &amp;&amp; <span class="hljs-built_in">parseFloat</span>(inp.replace(<span class="hljs-string">','</span>, <span class="hljs-string">'.'</span>));</pre></div>
        
      
        
        <p>apply sign while we’re at it</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">return</span> (<span class="hljs-built_in">isNaN</span>(res) ? <span class="hljs-number">0</span> : res) * sign;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">positiveMomentsDifference</span>(<span class="hljs-params">base, other</span>) </span>{
        <span class="hljs-keyword">var</span> res = {milliseconds: <span class="hljs-number">0</span>, months: <span class="hljs-number">0</span>};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * <span class="hljs-number">12</span>;
        <span class="hljs-keyword">if</span> (base.clone().add(res.months, <span class="hljs-string">'M'</span>).isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, <span class="hljs-string">'M'</span>));

        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">momentsDifference</span>(<span class="hljs-params">base, other</span>) </span>{
        <span class="hljs-keyword">var</span> res;
        <span class="hljs-keyword">if</span> (!(base.isValid() &amp;&amp; other.isValid())) {
            <span class="hljs-keyword">return</span> {milliseconds: <span class="hljs-number">0</span>, months: <span class="hljs-number">0</span>};
        }

        other = cloneWithOffset(other, base);
        <span class="hljs-keyword">if</span> (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } <span class="hljs-keyword">else</span> {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">absRound</span> (<span class="hljs-params">number</span>) </span>{
        <span class="hljs-keyword">if</span> (number &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round(<span class="hljs-number">-1</span> * number) * <span class="hljs-number">-1</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round(number);
        }
    }</pre></div>
        
      
        
        <p>TODO: remove ‘name’ arg after deprecation is removed</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAdder</span>(<span class="hljs-params">direction, name</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val, period</span>) </span>{
            <span class="hljs-keyword">var</span> dur, tmp;</pre></div>
        
      
        
        <p>invert the arguments, but complain about it</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">if</span> (period !== <span class="hljs-literal">null</span> &amp;&amp; !<span class="hljs-built_in">isNaN</span>(+period)) {
                deprecateSimple(name, <span class="hljs-string">'moment().'</span> + name  + <span class="hljs-string">'(period, number) is deprecated. Please use moment().'</span> + name + <span class="hljs-string">'(number, period).'</span>);
                tmp = val; val = period; period = tmp;
            }

            val = <span class="hljs-keyword">typeof</span> val === <span class="hljs-string">'string'</span> ? +val : val;
            dur = create__createDuration(val, period);
            add_subtract__addSubtract(<span class="hljs-keyword">this</span>, dur, direction);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add_subtract__addSubtract</span> (<span class="hljs-params">mom, duration, isAdding, updateOffset</span>) </span>{
        <span class="hljs-keyword">var</span> milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        <span class="hljs-keyword">if</span> (!mom.isValid()) {</pre></div>
        
      
        
        <p>No op</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">return</span>;
        }

        updateOffset = updateOffset == <span class="hljs-literal">null</span> ? <span class="hljs-literal">true</span> : updateOffset;

        <span class="hljs-keyword">if</span> (milliseconds) {
            mom._d.setTime(+mom._d + milliseconds * isAdding);
        }
        <span class="hljs-keyword">if</span> (days) {
            get_set__set(mom, <span class="hljs-string">'Date'</span>, get_set__get(mom, <span class="hljs-string">'Date'</span>) + days * isAdding);
        }
        <span class="hljs-keyword">if</span> (months) {
            setMonth(mom, get_set__get(mom, <span class="hljs-string">'Month'</span>) + months * isAdding);
        }
        <span class="hljs-keyword">if</span> (updateOffset) {
            utils_hooks__hooks.updateOffset(mom, days || months);
        }
    }

    <span class="hljs-keyword">var</span> add_subtract__add      = createAdder(<span class="hljs-number">1</span>, <span class="hljs-string">'add'</span>);
    <span class="hljs-keyword">var</span> add_subtract__subtract = createAdder(<span class="hljs-number">-1</span>, <span class="hljs-string">'subtract'</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moment_calendar__calendar</span> (<span class="hljs-params">time, formats</span>) </span>{</pre></div>
        
      
        
        <p>We want to compare the start of today, vs this.
Getting start-of-today depends on whether we’re local/utc/offset or not.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">var</span> now = time || local__createLocal(),
            sod = cloneWithOffset(now, <span class="hljs-keyword">this</span>).startOf(<span class="hljs-string">'day'</span>),
            diff = <span class="hljs-keyword">this</span>.diff(sod, <span class="hljs-string">'days'</span>, <span class="hljs-literal">true</span>),
            format = diff &lt; <span class="hljs-number">-6</span> ? <span class="hljs-string">'sameElse'</span> :
                diff &lt; <span class="hljs-number">-1</span> ? <span class="hljs-string">'lastWeek'</span> :
                diff &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">'lastDay'</span> :
                diff &lt; <span class="hljs-number">1</span> ? <span class="hljs-string">'sameDay'</span> :
                diff &lt; <span class="hljs-number">2</span> ? <span class="hljs-string">'nextDay'</span> :
                diff &lt; <span class="hljs-number">7</span> ? <span class="hljs-string">'nextWeek'</span> : <span class="hljs-string">'sameElse'</span>;

        <span class="hljs-keyword">var</span> output = formats &amp;&amp; (isFunction(formats[format]) ? formats[format]() : formats[format]);

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.format(output || <span class="hljs-keyword">this</span>.localeData().calendar(format, <span class="hljs-keyword">this</span>, local__createLocal(now)));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clone</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Moment(<span class="hljs-keyword">this</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAfter</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">var</span> localInput = isMoment(input) ? input : local__createLocal(input);
        <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span>.isValid() &amp;&amp; localInput.isValid())) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        units = normalizeUnits(!isUndefined(units) ? units : <span class="hljs-string">'millisecond'</span>);
        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'millisecond'</span>) {
            <span class="hljs-keyword">return</span> +<span class="hljs-keyword">this</span> &gt; +localInput;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> +localInput &lt; +<span class="hljs-keyword">this</span>.clone().startOf(units);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isBefore</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">var</span> localInput = isMoment(input) ? input : local__createLocal(input);
        <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span>.isValid() &amp;&amp; localInput.isValid())) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        units = normalizeUnits(!isUndefined(units) ? units : <span class="hljs-string">'millisecond'</span>);
        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'millisecond'</span>) {
            <span class="hljs-keyword">return</span> +<span class="hljs-keyword">this</span> &lt; +localInput;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> +<span class="hljs-keyword">this</span>.clone().endOf(units) &lt; +localInput;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isBetween</span> (<span class="hljs-params">from, to, units</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isAfter(<span class="hljs-keyword">from</span>, units) &amp;&amp; <span class="hljs-keyword">this</span>.isBefore(to, units);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSame</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">var</span> localInput = isMoment(input) ? input : local__createLocal(input),
            inputMs;
        <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span>.isValid() &amp;&amp; localInput.isValid())) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        units = normalizeUnits(units || <span class="hljs-string">'millisecond'</span>);
        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'millisecond'</span>) {
            <span class="hljs-keyword">return</span> +<span class="hljs-keyword">this</span> === +localInput;
        } <span class="hljs-keyword">else</span> {
            inputMs = +localInput;
            <span class="hljs-keyword">return</span> +(<span class="hljs-keyword">this</span>.clone().startOf(units)) &lt;= inputMs &amp;&amp; inputMs &lt;= +(<span class="hljs-keyword">this</span>.clone().endOf(units));
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSameOrAfter</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isSame(input, units) || <span class="hljs-keyword">this</span>.isAfter(input,units);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSameOrBefore</span> (<span class="hljs-params">input, units</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isSame(input, units) || <span class="hljs-keyword">this</span>.isBefore(input,units);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">diff</span> (<span class="hljs-params">input, units, asFloat</span>) </span>{
        <span class="hljs-keyword">var</span> that,
            zoneDelta,
            delta, output;

        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NaN</span>;
        }

        that = cloneWithOffset(input, <span class="hljs-keyword">this</span>);

        <span class="hljs-keyword">if</span> (!that.isValid()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NaN</span>;
        }

        zoneDelta = (that.utcOffset() - <span class="hljs-keyword">this</span>.utcOffset()) * <span class="hljs-number">6e4</span>;

        units = normalizeUnits(units);

        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'year'</span> || units === <span class="hljs-string">'month'</span> || units === <span class="hljs-string">'quarter'</span>) {
            output = monthDiff(<span class="hljs-keyword">this</span>, that);
            <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'quarter'</span>) {
                output = output / <span class="hljs-number">3</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'year'</span>) {
                output = output / <span class="hljs-number">12</span>;
            }
        } <span class="hljs-keyword">else</span> {
            delta = <span class="hljs-keyword">this</span> - that;
            output = units === <span class="hljs-string">'second'</span> ? delta / <span class="hljs-number">1e3</span> : <span class="hljs-comment">// 1000</span>
                units === <span class="hljs-string">'minute'</span> ? delta / <span class="hljs-number">6e4</span> : <span class="hljs-comment">// 1000 * 60</span>
                units === <span class="hljs-string">'hour'</span> ? delta / <span class="hljs-number">36e5</span> : <span class="hljs-comment">// 1000 * 60 * 60</span>
                units === <span class="hljs-string">'day'</span> ? (delta - zoneDelta) / <span class="hljs-number">864e5</span> : <span class="hljs-comment">// 1000 * 60 * 60 * 24, negate dst</span>
                units === <span class="hljs-string">'week'</span> ? (delta - zoneDelta) / <span class="hljs-number">6048e5</span> : <span class="hljs-comment">// 1000 * 60 * 60 * 24 * 7, negate dst</span>
                delta;
        }
        <span class="hljs-keyword">return</span> asFloat ? output : absFloor(output);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monthDiff</span> (<span class="hljs-params">a, b</span>) </span>{</pre></div>
        
      
        
        <p>difference in months</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">var</span> wholeMonthDiff = ((b.year() - a.year()) * <span class="hljs-number">12</span>) + (b.month() - a.month()),</pre></div>
        
      
        
        <p>b is in (anchor - 1 month, anchor + 1 month)</p>

        
          <div class='highlight'><pre>            anchor = a.clone().add(wholeMonthDiff, <span class="hljs-string">'months'</span>),
            anchor2, adjust;

        <span class="hljs-keyword">if</span> (b - anchor &lt; <span class="hljs-number">0</span>) {
            anchor2 = a.clone().add(wholeMonthDiff - <span class="hljs-number">1</span>, <span class="hljs-string">'months'</span>);</pre></div>
        
      
        
        <p>linear across the month</p>

        
          <div class='highlight'><pre>            adjust = (b - anchor) / (anchor - anchor2);
        } <span class="hljs-keyword">else</span> {
            anchor2 = a.clone().add(wholeMonthDiff + <span class="hljs-number">1</span>, <span class="hljs-string">'months'</span>);</pre></div>
        
      
        
        <p>linear across the month</p>

        
          <div class='highlight'><pre>            adjust = (b - anchor) / (anchor2 - anchor);
        }

        <span class="hljs-keyword">return</span> -(wholeMonthDiff + adjust);
    }

    utils_hooks__hooks.defaultFormat = <span class="hljs-string">'YYYY-MM-DDTHH:mm:ssZ'</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toString</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.clone().locale(<span class="hljs-string">'en'</span>).format(<span class="hljs-string">'ddd MMM DD YYYY HH:mm:ss [GMT]ZZ'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moment_format__toISOString</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>.clone().utc();
        <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> &lt; m.year() &amp;&amp; m.year() &lt;= <span class="hljs-number">9999</span>) {
            <span class="hljs-keyword">if</span> (isFunction(<span class="hljs-built_in">Date</span>.prototype.toISOString)) {</pre></div>
        
      
        
        <p>native implementation is ~50x faster, use it when we can</p>

        
          <div class='highlight'><pre>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toDate().toISOString();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> formatMoment(m, <span class="hljs-string">'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]'</span>);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> formatMoment(m, <span class="hljs-string">'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">format</span> (<span class="hljs-params">inputString</span>) </span>{
        <span class="hljs-keyword">var</span> output = formatMoment(<span class="hljs-keyword">this</span>, inputString || utils_hooks__hooks.defaultFormat);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().postformat(output);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">from</span> (<span class="hljs-params">time, withoutSuffix</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isValid() &amp;&amp;
                ((isMoment(time) &amp;&amp; time.isValid()) ||
                 local__createLocal(time).isValid())) {
            <span class="hljs-keyword">return</span> create__createDuration({to: <span class="hljs-keyword">this</span>, <span class="hljs-keyword">from</span>: time}).locale(<span class="hljs-keyword">this</span>.locale()).humanize(!withoutSuffix);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().invalidDate();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromNow</span> (<span class="hljs-params">withoutSuffix</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.from(local__createLocal(), withoutSuffix);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">to</span> (<span class="hljs-params">time, withoutSuffix</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isValid() &amp;&amp;
                ((isMoment(time) &amp;&amp; time.isValid()) ||
                 local__createLocal(time).isValid())) {
            <span class="hljs-keyword">return</span> create__createDuration({<span class="hljs-keyword">from</span>: <span class="hljs-keyword">this</span>, to: time}).locale(<span class="hljs-keyword">this</span>.locale()).humanize(!withoutSuffix);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().invalidDate();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toNow</span> (<span class="hljs-params">withoutSuffix</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.to(local__createLocal(), withoutSuffix);
    }</pre></div>
        
      
        
        <p>If passed a locale key, it will set the locale for this
instance.  Otherwise, it will return the locale configuration
variables for this instance.</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">locale</span> (<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> newLocaleData;

        <span class="hljs-keyword">if</span> (key === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._locale._abbr;
        } <span class="hljs-keyword">else</span> {
            newLocaleData = locale_locales__getLocale(key);
            <span class="hljs-keyword">if</span> (newLocaleData != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">this</span>._locale = newLocaleData;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        }
    }

    <span class="hljs-keyword">var</span> lang = deprecate(
        <span class="hljs-string">'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.'</span>,
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
            <span class="hljs-keyword">if</span> (key === <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.locale(key);
            }
        }
    );

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeData</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._locale;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startOf</span> (<span class="hljs-params">units</span>) </span>{
        units = normalizeUnits(units);</pre></div>
        
      
        
        <p>the following switch intentionally omits break keywords
to utilize falling through the cases.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">switch</span> (units) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'year'</span>:
            <span class="hljs-keyword">this</span>.month(<span class="hljs-number">0</span>);
            <span class="hljs-comment">/* falls through */</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'quarter'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'month'</span>:
            <span class="hljs-keyword">this</span>.date(<span class="hljs-number">1</span>);
            <span class="hljs-comment">/* falls through */</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'week'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'isoWeek'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'day'</span>:
            <span class="hljs-keyword">this</span>.hours(<span class="hljs-number">0</span>);
            <span class="hljs-comment">/* falls through */</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'hour'</span>:
            <span class="hljs-keyword">this</span>.minutes(<span class="hljs-number">0</span>);
            <span class="hljs-comment">/* falls through */</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'minute'</span>:
            <span class="hljs-keyword">this</span>.seconds(<span class="hljs-number">0</span>);
            <span class="hljs-comment">/* falls through */</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'second'</span>:
            <span class="hljs-keyword">this</span>.milliseconds(<span class="hljs-number">0</span>);
        }</pre></div>
        
      
        
        <p>weeks are a special case</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'week'</span>) {
            <span class="hljs-keyword">this</span>.weekday(<span class="hljs-number">0</span>);
        }
        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'isoWeek'</span>) {
            <span class="hljs-keyword">this</span>.isoWeekday(<span class="hljs-number">1</span>);
        }</pre></div>
        
      
        
        <p>quarters are also special</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'quarter'</span>) {
            <span class="hljs-keyword">this</span>.month(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">this</span>.month() / <span class="hljs-number">3</span>) * <span class="hljs-number">3</span>);
        }

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endOf</span> (<span class="hljs-params">units</span>) </span>{
        units = normalizeUnits(units);
        <span class="hljs-keyword">if</span> (units === <span class="hljs-literal">undefined</span> || units === <span class="hljs-string">'millisecond'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.startOf(units).add(<span class="hljs-number">1</span>, (units === <span class="hljs-string">'isoWeek'</span> ? <span class="hljs-string">'week'</span> : units)).subtract(<span class="hljs-number">1</span>, <span class="hljs-string">'ms'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">to_type__valueOf</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> +<span class="hljs-keyword">this</span>._d - ((<span class="hljs-keyword">this</span>._offset || <span class="hljs-number">0</span>) * <span class="hljs-number">60000</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unix</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(+<span class="hljs-keyword">this</span> / <span class="hljs-number">1000</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toDate</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._offset ? <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(+<span class="hljs-keyword">this</span>) : <span class="hljs-keyword">this</span>._d;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toArray</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toObject</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toJSON</span> (<span class="hljs-params"></span>) </span>{</pre></div>
        
      
        
        <p>new Date(NaN).toJSON() === null</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isValid() ? <span class="hljs-keyword">this</span>.toISOString() : <span class="hljs-literal">null</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moment_valid__isValid</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> valid__isValid(<span class="hljs-keyword">this</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parsingFlags</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> extend({}, getParsingFlags(<span class="hljs-keyword">this</span>));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">invalidAt</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> getParsingFlags(<span class="hljs-keyword">this</span>).overflow;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">creationData</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> {
            input: <span class="hljs-keyword">this</span>._i,
            format: <span class="hljs-keyword">this</span>._f,
            locale: <span class="hljs-keyword">this</span>._locale,
            isUTC: <span class="hljs-keyword">this</span>._isUTC,
            strict: <span class="hljs-keyword">this</span>._strict
        };
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'gg'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.weekYear() % <span class="hljs-number">100</span>;
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'GG'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isoWeekYear() % <span class="hljs-number">100</span>;
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addWeekYearFormatToken</span> (<span class="hljs-params">token, getter</span>) </span>{
        addFormatToken(<span class="hljs-number">0</span>, [token, token.length], <span class="hljs-number">0</span>, getter);
    }

    addWeekYearFormatToken(<span class="hljs-string">'gggg'</span>,     <span class="hljs-string">'weekYear'</span>);
    addWeekYearFormatToken(<span class="hljs-string">'ggggg'</span>,    <span class="hljs-string">'weekYear'</span>);
    addWeekYearFormatToken(<span class="hljs-string">'GGGG'</span>,  <span class="hljs-string">'isoWeekYear'</span>);
    addWeekYearFormatToken(<span class="hljs-string">'GGGGG'</span>, <span class="hljs-string">'isoWeekYear'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'weekYear'</span>, <span class="hljs-string">'gg'</span>);
    addUnitAlias(<span class="hljs-string">'isoWeekYear'</span>, <span class="hljs-string">'GG'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'G'</span>,      matchSigned);
    addRegexToken(<span class="hljs-string">'g'</span>,      matchSigned);
    addRegexToken(<span class="hljs-string">'GG'</span>,     match1to2, match2);
    addRegexToken(<span class="hljs-string">'gg'</span>,     match1to2, match2);
    addRegexToken(<span class="hljs-string">'GGGG'</span>,   match1to4, match4);
    addRegexToken(<span class="hljs-string">'gggg'</span>,   match1to4, match4);
    addRegexToken(<span class="hljs-string">'GGGGG'</span>,  match1to6, match6);
    addRegexToken(<span class="hljs-string">'ggggg'</span>,  match1to6, match6);

    addWeekParseToken([<span class="hljs-string">'gggg'</span>, <span class="hljs-string">'ggggg'</span>, <span class="hljs-string">'GGGG'</span>, <span class="hljs-string">'GGGGG'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        week[token.substr(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)] = toInt(input);
    });

    addWeekParseToken([<span class="hljs-string">'gg'</span>, <span class="hljs-string">'GG'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        week[token] = utils_hooks__hooks.parseTwoDigitYear(input);
    });</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetWeekYear</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> getSetWeekYearHelper.call(<span class="hljs-keyword">this</span>,
                input,
                <span class="hljs-keyword">this</span>.week(),
                <span class="hljs-keyword">this</span>.weekday(),
                <span class="hljs-keyword">this</span>.localeData()._week.dow,
                <span class="hljs-keyword">this</span>.localeData()._week.doy);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetISOWeekYear</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> getSetWeekYearHelper.call(<span class="hljs-keyword">this</span>,
                input, <span class="hljs-keyword">this</span>.isoWeek(), <span class="hljs-keyword">this</span>.isoWeekday(), <span class="hljs-number">1</span>, <span class="hljs-number">4</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getISOWeeksInYear</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> weeksInYear(<span class="hljs-keyword">this</span>.year(), <span class="hljs-number">1</span>, <span class="hljs-number">4</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWeeksInYear</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> weekInfo = <span class="hljs-keyword">this</span>.localeData()._week;
        <span class="hljs-keyword">return</span> weeksInYear(<span class="hljs-keyword">this</span>.year(), weekInfo.dow, weekInfo.doy);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetWeekYearHelper</span>(<span class="hljs-params">input, week, weekday, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> weeksTarget;
        <span class="hljs-keyword">if</span> (input == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> weekOfYear(<span class="hljs-keyword">this</span>, dow, doy).year;
        } <span class="hljs-keyword">else</span> {
            weeksTarget = weeksInYear(input, dow, doy);
            <span class="hljs-keyword">if</span> (week &gt; weeksTarget) {
                week = weeksTarget;
            }
            <span class="hljs-keyword">return</span> setWeekAll.call(<span class="hljs-keyword">this</span>, input, week, weekday, dow, doy);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setWeekAll</span>(<span class="hljs-params">weekYear, week, weekday, dow, doy</span>) </span>{
        <span class="hljs-keyword">var</span> dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, <span class="hljs-number">0</span>, dayOfYearData.dayOfYear);

        <span class="hljs-keyword">this</span>.year(date.getUTCFullYear());
        <span class="hljs-keyword">this</span>.month(date.getUTCMonth());
        <span class="hljs-keyword">this</span>.date(date.getUTCDate());
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'Q'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'Qo'</span>, <span class="hljs-string">'quarter'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'quarter'</span>, <span class="hljs-string">'Q'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'Q'</span>, match1);
    addParseToken(<span class="hljs-string">'Q'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[MONTH] = (toInt(input) - <span class="hljs-number">1</span>) * <span class="hljs-number">3</span>;
    });</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetQuarter</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? <span class="hljs-built_in">Math</span>.ceil((<span class="hljs-keyword">this</span>.month() + <span class="hljs-number">1</span>) / <span class="hljs-number">3</span>) : <span class="hljs-keyword">this</span>.month((input - <span class="hljs-number">1</span>) * <span class="hljs-number">3</span> + <span class="hljs-keyword">this</span>.month() % <span class="hljs-number">3</span>);
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'w'</span>, [<span class="hljs-string">'ww'</span>, <span class="hljs-number">2</span>], <span class="hljs-string">'wo'</span>, <span class="hljs-string">'week'</span>);
    addFormatToken(<span class="hljs-string">'W'</span>, [<span class="hljs-string">'WW'</span>, <span class="hljs-number">2</span>], <span class="hljs-string">'Wo'</span>, <span class="hljs-string">'isoWeek'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'week'</span>, <span class="hljs-string">'w'</span>);
    addUnitAlias(<span class="hljs-string">'isoWeek'</span>, <span class="hljs-string">'W'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'w'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'ww'</span>, match1to2, match2);
    addRegexToken(<span class="hljs-string">'W'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'WW'</span>, match1to2, match2);

    addWeekParseToken([<span class="hljs-string">'w'</span>, <span class="hljs-string">'ww'</span>, <span class="hljs-string">'W'</span>, <span class="hljs-string">'WW'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        week[token.substr(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)] = toInt(input);
    });</pre></div>
        
      
        
        <p>HELPERS</p>

        
      
        
        <p>LOCALES</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeek</span> (<span class="hljs-params">mom</span>) </span>{
        <span class="hljs-keyword">return</span> weekOfYear(mom, <span class="hljs-keyword">this</span>._week.dow, <span class="hljs-keyword">this</span>._week.doy).week;
    }

    <span class="hljs-keyword">var</span> defaultLocaleWeek = {
        dow : <span class="hljs-number">0</span>, <span class="hljs-comment">// Sunday is the first day of the week.</span>
        doy : <span class="hljs-number">6</span>  <span class="hljs-comment">// The week that contains Jan 1st is the first week of the year.</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeFirstDayOfWeek</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._week.dow;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeFirstDayOfYear</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._week.doy;
    }</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">var</span> week = <span class="hljs-keyword">this</span>.localeData().week(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? week : <span class="hljs-keyword">this</span>.add((input - week) * <span class="hljs-number">7</span>, <span class="hljs-string">'d'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetISOWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">var</span> week = weekOfYear(<span class="hljs-keyword">this</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>).week;
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? week : <span class="hljs-keyword">this</span>.add((input - week) * <span class="hljs-number">7</span>, <span class="hljs-string">'d'</span>);
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'D'</span>, [<span class="hljs-string">'DD'</span>, <span class="hljs-number">2</span>], <span class="hljs-string">'Do'</span>, <span class="hljs-string">'date'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'date'</span>, <span class="hljs-string">'D'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'D'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'DD'</span>, match1to2, match2);
    addRegexToken(<span class="hljs-string">'Do'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> isStrict ? locale._ordinalParse : locale._ordinalParseLenient;
    });

    addParseToken([<span class="hljs-string">'D'</span>, <span class="hljs-string">'DD'</span>], DATE);
    addParseToken(<span class="hljs-string">'Do'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array</span>) </span>{
        array[DATE] = toInt(input.match(match1to2)[<span class="hljs-number">0</span>], <span class="hljs-number">10</span>);
    });</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-keyword">var</span> getSetDayOfMonth = makeGetSet(<span class="hljs-string">'Date'</span>, <span class="hljs-literal">true</span>);</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'d'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'do'</span>, <span class="hljs-string">'day'</span>);

    addFormatToken(<span class="hljs-string">'dd'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().weekdaysMin(<span class="hljs-keyword">this</span>, format);
    });

    addFormatToken(<span class="hljs-string">'ddd'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().weekdaysShort(<span class="hljs-keyword">this</span>, format);
    });

    addFormatToken(<span class="hljs-string">'dddd'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().weekdays(<span class="hljs-keyword">this</span>, format);
    });

    addFormatToken(<span class="hljs-string">'e'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'weekday'</span>);
    addFormatToken(<span class="hljs-string">'E'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'isoWeekday'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'day'</span>, <span class="hljs-string">'d'</span>);
    addUnitAlias(<span class="hljs-string">'weekday'</span>, <span class="hljs-string">'e'</span>);
    addUnitAlias(<span class="hljs-string">'isoWeekday'</span>, <span class="hljs-string">'E'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'d'</span>,    match1to2);
    addRegexToken(<span class="hljs-string">'e'</span>,    match1to2);
    addRegexToken(<span class="hljs-string">'E'</span>,    match1to2);
    addRegexToken(<span class="hljs-string">'dd'</span>,   matchWord);
    addRegexToken(<span class="hljs-string">'ddd'</span>,  matchWord);
    addRegexToken(<span class="hljs-string">'dddd'</span>, matchWord);

    addWeekParseToken([<span class="hljs-string">'dd'</span>, <span class="hljs-string">'ddd'</span>, <span class="hljs-string">'dddd'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        <span class="hljs-keyword">var</span> weekday = config._locale.weekdaysParse(input, token, config._strict);</pre></div>
        
      
        
        <p>if we didn’t get a weekday name, mark the date as invalid</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (weekday != <span class="hljs-literal">null</span>) {
            week.d = weekday;
        } <span class="hljs-keyword">else</span> {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken([<span class="hljs-string">'d'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'E'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, week, config, token</span>) </span>{
        week[token] = toInt(input);
    });</pre></div>
        
      
        
        <p>HELPERS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseWeekday</span>(<span class="hljs-params">input, locale</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input !== <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">return</span> input;
        }

        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isNaN</span>(input)) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(input, <span class="hljs-number">10</span>);
        }

        input = locale.weekdaysParse(input);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">'number'</span>) {
            <span class="hljs-keyword">return</span> input;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }</pre></div>
        
      
        
        <p>LOCALES</p>

        
          <div class='highlight'><pre>
    <span class="hljs-keyword">var</span> defaultLocaleWeekdays = <span class="hljs-string">'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeekdays</span> (<span class="hljs-params">m, format</span>) </span>{
        <span class="hljs-keyword">return</span> isArray(<span class="hljs-keyword">this</span>._weekdays) ? <span class="hljs-keyword">this</span>._weekdays[m.day()] :
            <span class="hljs-keyword">this</span>._weekdays[<span class="hljs-keyword">this</span>._weekdays.isFormat.test(format) ? <span class="hljs-string">'format'</span> : <span class="hljs-string">'standalone'</span>][m.day()];
    }

    <span class="hljs-keyword">var</span> defaultLocaleWeekdaysShort = <span class="hljs-string">'Sun_Mon_Tue_Wed_Thu_Fri_Sat'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeekdaysShort</span> (<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysShort[m.day()];
    }

    <span class="hljs-keyword">var</span> defaultLocaleWeekdaysMin = <span class="hljs-string">'Su_Mo_Tu_We_Th_Fr_Sa'</span>.split(<span class="hljs-string">'_'</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeekdaysMin</span> (<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._weekdaysMin[m.day()];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeWeekdaysParse</span> (<span class="hljs-params">weekdayName, format, strict</span>) </span>{
        <span class="hljs-keyword">var</span> i, mom, regex;

        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._weekdaysParse) {
            <span class="hljs-keyword">this</span>._weekdaysParse = [];
            <span class="hljs-keyword">this</span>._minWeekdaysParse = [];
            <span class="hljs-keyword">this</span>._shortWeekdaysParse = [];
            <span class="hljs-keyword">this</span>._fullWeekdaysParse = [];
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; i++) {</pre></div>
        
      
        
        <p>make the regex if we don’t have it already</p>

        
          <div class='highlight'><pre>
            mom = local__createLocal([<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>]).day(i);
            <span class="hljs-keyword">if</span> (strict &amp;&amp; !<span class="hljs-keyword">this</span>._fullWeekdaysParse[i]) {
                <span class="hljs-keyword">this</span>._fullWeekdaysParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.weekdays(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'\.?'</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
                <span class="hljs-keyword">this</span>._shortWeekdaysParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.weekdaysShort(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'\.?'</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
                <span class="hljs-keyword">this</span>._minWeekdaysParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.weekdaysMin(mom, <span class="hljs-string">''</span>).replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'\.?'</span>) + <span class="hljs-string">'$'</span>, <span class="hljs-string">'i'</span>);
            }
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._weekdaysParse[i]) {
                regex = <span class="hljs-string">'^'</span> + <span class="hljs-keyword">this</span>.weekdays(mom, <span class="hljs-string">''</span>) + <span class="hljs-string">'|^'</span> + <span class="hljs-keyword">this</span>.weekdaysShort(mom, <span class="hljs-string">''</span>) + <span class="hljs-string">'|^'</span> + <span class="hljs-keyword">this</span>.weekdaysMin(mom, <span class="hljs-string">''</span>);
                <span class="hljs-keyword">this</span>._weekdaysParse[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(regex.replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>), <span class="hljs-string">'i'</span>);
            }</pre></div>
        
      
        
        <p>test the regex</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'dddd'</span> &amp;&amp; <span class="hljs-keyword">this</span>._fullWeekdaysParse[i].test(weekdayName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'ddd'</span> &amp;&amp; <span class="hljs-keyword">this</span>._shortWeekdaysParse[i].test(weekdayName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strict &amp;&amp; format === <span class="hljs-string">'dd'</span> &amp;&amp; <span class="hljs-keyword">this</span>._minWeekdaysParse[i].test(weekdayName)) {
                <span class="hljs-keyword">return</span> i;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!strict &amp;&amp; <span class="hljs-keyword">this</span>._weekdaysParse[i].test(weekdayName)) {
                <span class="hljs-keyword">return</span> i;
            }
        }
    }</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetDayOfWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">var</span> day = <span class="hljs-keyword">this</span>._isUTC ? <span class="hljs-keyword">this</span>._d.getUTCDay() : <span class="hljs-keyword">this</span>._d.getDay();
        <span class="hljs-keyword">if</span> (input != <span class="hljs-literal">null</span>) {
            input = parseWeekday(input, <span class="hljs-keyword">this</span>.localeData());
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.add(input - day, <span class="hljs-string">'d'</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> day;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetLocaleDayOfWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-literal">NaN</span>;
        }
        <span class="hljs-keyword">var</span> weekday = (<span class="hljs-keyword">this</span>.day() + <span class="hljs-number">7</span> - <span class="hljs-keyword">this</span>.localeData()._week.dow) % <span class="hljs-number">7</span>;
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? weekday : <span class="hljs-keyword">this</span>.add(input - weekday, <span class="hljs-string">'d'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetISODayOfWeek</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isValid()) {
            <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span> : <span class="hljs-literal">NaN</span>;
        }</pre></div>
        
      
        
        <p>behaves the same as moment#day except
as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
as a setter, sunday should belong to the previous week.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span>.day() || <span class="hljs-number">7</span> : <span class="hljs-keyword">this</span>.day(<span class="hljs-keyword">this</span>.day() % <span class="hljs-number">7</span> ? input : input - <span class="hljs-number">7</span>);
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'DDD'</span>, [<span class="hljs-string">'DDDD'</span>, <span class="hljs-number">3</span>], <span class="hljs-string">'DDDo'</span>, <span class="hljs-string">'dayOfYear'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'dayOfYear'</span>, <span class="hljs-string">'DDD'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'DDD'</span>,  match1to3);
    addRegexToken(<span class="hljs-string">'DDDD'</span>, match3);
    addParseToken([<span class="hljs-string">'DDD'</span>, <span class="hljs-string">'DDDD'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._dayOfYear = toInt(input);
    });</pre></div>
        
      
        
        <p>HELPERS</p>

        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSetDayOfYear</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">var</span> dayOfYear = <span class="hljs-built_in">Math</span>.round((<span class="hljs-keyword">this</span>.clone().startOf(<span class="hljs-string">'day'</span>) - <span class="hljs-keyword">this</span>.clone().startOf(<span class="hljs-string">'year'</span>)) / <span class="hljs-number">864e5</span>) + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">return</span> input == <span class="hljs-literal">null</span> ? dayOfYear : <span class="hljs-keyword">this</span>.add((input - dayOfYear), <span class="hljs-string">'d'</span>);
    }</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hFormat</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.hours() % <span class="hljs-number">12</span> || <span class="hljs-number">12</span>;
    }

    addFormatToken(<span class="hljs-string">'H'</span>, [<span class="hljs-string">'HH'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'hour'</span>);
    addFormatToken(<span class="hljs-string">'h'</span>, [<span class="hljs-string">'hh'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, hFormat);

    addFormatToken(<span class="hljs-string">'hmm'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span> + hFormat.apply(<span class="hljs-keyword">this</span>) + zeroFill(<span class="hljs-keyword">this</span>.minutes(), <span class="hljs-number">2</span>);
    });

    addFormatToken(<span class="hljs-string">'hmmss'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span> + hFormat.apply(<span class="hljs-keyword">this</span>) + zeroFill(<span class="hljs-keyword">this</span>.minutes(), <span class="hljs-number">2</span>) +
            zeroFill(<span class="hljs-keyword">this</span>.seconds(), <span class="hljs-number">2</span>);
    });

    addFormatToken(<span class="hljs-string">'Hmm'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span> + <span class="hljs-keyword">this</span>.hours() + zeroFill(<span class="hljs-keyword">this</span>.minutes(), <span class="hljs-number">2</span>);
    });

    addFormatToken(<span class="hljs-string">'Hmmss'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span> + <span class="hljs-keyword">this</span>.hours() + zeroFill(<span class="hljs-keyword">this</span>.minutes(), <span class="hljs-number">2</span>) +
            zeroFill(<span class="hljs-keyword">this</span>.seconds(), <span class="hljs-number">2</span>);
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">meridiem</span> (<span class="hljs-params">token, lowercase</span>) </span>{
        addFormatToken(token, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.localeData().meridiem(<span class="hljs-keyword">this</span>.hours(), <span class="hljs-keyword">this</span>.minutes(), lowercase);
        });
    }

    meridiem(<span class="hljs-string">'a'</span>, <span class="hljs-literal">true</span>);
    meridiem(<span class="hljs-string">'A'</span>, <span class="hljs-literal">false</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'hour'</span>, <span class="hljs-string">'h'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matchMeridiem</span> (<span class="hljs-params">isStrict, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale._meridiemParse;
    }

    addRegexToken(<span class="hljs-string">'a'</span>,  matchMeridiem);
    addRegexToken(<span class="hljs-string">'A'</span>,  matchMeridiem);
    addRegexToken(<span class="hljs-string">'H'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'h'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'HH'</span>, match1to2, match2);
    addRegexToken(<span class="hljs-string">'hh'</span>, match1to2, match2);

    addRegexToken(<span class="hljs-string">'hmm'</span>, match3to4);
    addRegexToken(<span class="hljs-string">'hmmss'</span>, match5to6);
    addRegexToken(<span class="hljs-string">'Hmm'</span>, match3to4);
    addRegexToken(<span class="hljs-string">'Hmmss'</span>, match5to6);

    addParseToken([<span class="hljs-string">'H'</span>, <span class="hljs-string">'HH'</span>], HOUR);
    addParseToken([<span class="hljs-string">'a'</span>, <span class="hljs-string">'A'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken([<span class="hljs-string">'h'</span>, <span class="hljs-string">'hh'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = <span class="hljs-literal">true</span>;
    });
    addParseToken(<span class="hljs-string">'hmm'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> pos = input.length - <span class="hljs-number">2</span>;
        array[HOUR] = toInt(input.substr(<span class="hljs-number">0</span>, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = <span class="hljs-literal">true</span>;
    });
    addParseToken(<span class="hljs-string">'hmmss'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> pos1 = input.length - <span class="hljs-number">4</span>;
        <span class="hljs-keyword">var</span> pos2 = input.length - <span class="hljs-number">2</span>;
        array[HOUR] = toInt(input.substr(<span class="hljs-number">0</span>, pos1));
        array[MINUTE] = toInt(input.substr(pos1, <span class="hljs-number">2</span>));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = <span class="hljs-literal">true</span>;
    });
    addParseToken(<span class="hljs-string">'Hmm'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> pos = input.length - <span class="hljs-number">2</span>;
        array[HOUR] = toInt(input.substr(<span class="hljs-number">0</span>, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken(<span class="hljs-string">'Hmmss'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        <span class="hljs-keyword">var</span> pos1 = input.length - <span class="hljs-number">4</span>;
        <span class="hljs-keyword">var</span> pos2 = input.length - <span class="hljs-number">2</span>;
        array[HOUR] = toInt(input.substr(<span class="hljs-number">0</span>, pos1));
        array[MINUTE] = toInt(input.substr(pos1, <span class="hljs-number">2</span>));
        array[SECOND] = toInt(input.substr(pos2));
    });</pre></div>
        
      
        
        <p>LOCALES</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeIsPM</span> (<span class="hljs-params">input</span>) </span>{</pre></div>
        
      
        
        <p>IE8 Quirks Mode &amp; IE7 Standards Mode do not allow accessing strings like arrays
Using charAt should be more compatible.</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">return</span> ((input + <span class="hljs-string">''</span>).toLowerCase().charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'p'</span>);
    }

    <span class="hljs-keyword">var</span> defaultLocaleMeridiemParse = <span class="hljs-regexp">/[ap]\.?m?\.?/i</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">localeMeridiem</span> (<span class="hljs-params">hours, minutes, isLower</span>) </span>{
        <span class="hljs-keyword">if</span> (hours &gt; <span class="hljs-number">11</span>) {
            <span class="hljs-keyword">return</span> isLower ? <span class="hljs-string">'pm'</span> : <span class="hljs-string">'PM'</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> isLower ? <span class="hljs-string">'am'</span> : <span class="hljs-string">'AM'</span>;
        }
    }</pre></div>
        
      
        
        <p>MOMENTS</p>

        
      
        
        <p>Setting the hour should keep the time, because the user explicitly
specified which hour he wants. So trying to maintain the same hour (in
a new timezone) makes sense. Adding/subtracting hours does not follow
this rule.</p>

        
          <div class='highlight'><pre>    <span class="hljs-keyword">var</span> getSetHour = makeGetSet(<span class="hljs-string">'Hours'</span>, <span class="hljs-literal">true</span>);</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'m'</span>, [<span class="hljs-string">'mm'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'minute'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'minute'</span>, <span class="hljs-string">'m'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'m'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'mm'</span>, match1to2, match2);
    addParseToken([<span class="hljs-string">'m'</span>, <span class="hljs-string">'mm'</span>], MINUTE);</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-keyword">var</span> getSetMinute = makeGetSet(<span class="hljs-string">'Minutes'</span>, <span class="hljs-literal">false</span>);</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'s'</span>, [<span class="hljs-string">'ss'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'second'</span>);</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'second'</span>, <span class="hljs-string">'s'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'s'</span>,  match1to2);
    addRegexToken(<span class="hljs-string">'ss'</span>, match1to2, match2);
    addParseToken([<span class="hljs-string">'s'</span>, <span class="hljs-string">'ss'</span>], SECOND);</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-keyword">var</span> getSetSecond = makeGetSet(<span class="hljs-string">'Seconds'</span>, <span class="hljs-literal">false</span>);</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'S'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> ~~(<span class="hljs-keyword">this</span>.millisecond() / <span class="hljs-number">100</span>);
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SS'</span>, <span class="hljs-number">2</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> ~~(<span class="hljs-keyword">this</span>.millisecond() / <span class="hljs-number">10</span>);
    });

    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSS'</span>, <span class="hljs-number">3</span>], <span class="hljs-number">0</span>, <span class="hljs-string">'millisecond'</span>);
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSS'</span>, <span class="hljs-number">4</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">10</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSS'</span>, <span class="hljs-number">5</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">100</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSSS'</span>, <span class="hljs-number">6</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">1000</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSSSS'</span>, <span class="hljs-number">7</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">10000</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSSSSS'</span>, <span class="hljs-number">8</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">100000</span>;
    });
    addFormatToken(<span class="hljs-number">0</span>, [<span class="hljs-string">'SSSSSSSSS'</span>, <span class="hljs-number">9</span>], <span class="hljs-number">0</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.millisecond() * <span class="hljs-number">1000000</span>;
    });</pre></div>
        
      
        
        <p>ALIASES</p>

        
          <div class='highlight'><pre>
    addUnitAlias(<span class="hljs-string">'millisecond'</span>, <span class="hljs-string">'ms'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'S'</span>,    match1to3, match1);
    addRegexToken(<span class="hljs-string">'SS'</span>,   match1to3, match2);
    addRegexToken(<span class="hljs-string">'SSS'</span>,  match1to3, match3);

    <span class="hljs-keyword">var</span> token;
    <span class="hljs-keyword">for</span> (token = <span class="hljs-string">'SSSS'</span>; token.length &lt;= <span class="hljs-number">9</span>; token += <span class="hljs-string">'S'</span>) {
        addRegexToken(token, matchUnsigned);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseMs</span>(<span class="hljs-params">input, array</span>) </span>{
        array[MILLISECOND] = toInt((<span class="hljs-string">'0.'</span> + input) * <span class="hljs-number">1000</span>);
    }

    <span class="hljs-keyword">for</span> (token = <span class="hljs-string">'S'</span>; token.length &lt;= <span class="hljs-number">9</span>; token += <span class="hljs-string">'S'</span>) {
        addParseToken(token, parseMs);
    }</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-keyword">var</span> getSetMillisecond = makeGetSet(<span class="hljs-string">'Milliseconds'</span>, <span class="hljs-literal">false</span>);</pre></div>
        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'z'</span>,  <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'zoneAbbr'</span>);
    addFormatToken(<span class="hljs-string">'zz'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'zoneName'</span>);</pre></div>
        
      
        
        <p>MOMENTS</p>

        
          <div class='highlight'><pre>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getZoneAbbr</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isUTC ? <span class="hljs-string">'UTC'</span> : <span class="hljs-string">''</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getZoneName</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isUTC ? <span class="hljs-string">'Coordinated Universal Time'</span> : <span class="hljs-string">''</span>;
    }

    <span class="hljs-keyword">var</span> momentPrototype__proto = Moment.prototype;

    momentPrototype__proto.add               = add_subtract__add;
    momentPrototype__proto.calendar          = moment_calendar__calendar;
    momentPrototype__proto.clone             = clone;
    momentPrototype__proto.diff              = diff;
    momentPrototype__proto.endOf             = endOf;
    momentPrototype__proto.format            = format;
    momentPrototype__proto.from              = <span class="hljs-keyword">from</span>;
    momentPrototype__proto.fromNow           = fromNow;
    momentPrototype__proto.to                = to;
    momentPrototype__proto.toNow             = toNow;
    momentPrototype__proto.get               = getSet;
    momentPrototype__proto.invalidAt         = invalidAt;
    momentPrototype__proto.isAfter           = isAfter;
    momentPrototype__proto.isBefore          = isBefore;
    momentPrototype__proto.isBetween         = isBetween;
    momentPrototype__proto.isSame            = isSame;
    momentPrototype__proto.isSameOrAfter     = isSameOrAfter;
    momentPrototype__proto.isSameOrBefore    = isSameOrBefore;
    momentPrototype__proto.isValid           = moment_valid__isValid;
    momentPrototype__proto.lang              = lang;
    momentPrototype__proto.locale            = locale;
    momentPrototype__proto.localeData        = localeData;
    momentPrototype__proto.max               = prototypeMax;
    momentPrototype__proto.min               = prototypeMin;
    momentPrototype__proto.parsingFlags      = parsingFlags;
    momentPrototype__proto.set               = getSet;
    momentPrototype__proto.startOf           = startOf;
    momentPrototype__proto.subtract          = add_subtract__subtract;
    momentPrototype__proto.toArray           = toArray;
    momentPrototype__proto.toObject          = toObject;
    momentPrototype__proto.toDate            = toDate;
    momentPrototype__proto.toISOString       = moment_format__toISOString;
    momentPrototype__proto.toJSON            = toJSON;
    momentPrototype__proto.toString          = toString;
    momentPrototype__proto.unix              = unix;
    momentPrototype__proto.valueOf           = to_type__valueOf;
    momentPrototype__proto.creationData      = creationData;</pre></div>
        
      
        
        <p>Year</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.year       = getSetYear;
    momentPrototype__proto.isLeapYear = getIsLeapYear;</pre></div>
        
      
        
        <p>Week Year</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.weekYear    = getSetWeekYear;
    momentPrototype__proto.isoWeekYear = getSetISOWeekYear;</pre></div>
        
      
        
        <p>Quarter</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;</pre></div>
        
      
        
        <p>Month</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.month       = getSetMonth;
    momentPrototype__proto.daysInMonth = getDaysInMonth;</pre></div>
        
      
        
        <p>Week</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;
    momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;
    momentPrototype__proto.weeksInYear    = getWeeksInYear;
    momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;</pre></div>
        
      
        
        <p>Day</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.date       = getSetDayOfMonth;
    momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;
    momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;
    momentPrototype__proto.isoWeekday = getSetISODayOfWeek;
    momentPrototype__proto.dayOfYear  = getSetDayOfYear;</pre></div>
        
      
        
        <p>Hour</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;</pre></div>
        
      
        
        <p>Minute</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;</pre></div>
        
      
        
        <p>Second</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;</pre></div>
        
      
        
        <p>Millisecond</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;</pre></div>
        
      
        
        <p>Offset</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.utcOffset            = getSetOffset;
    momentPrototype__proto.utc                  = setOffsetToUTC;
    momentPrototype__proto.local                = setOffsetToLocal;
    momentPrototype__proto.parseZone            = setOffsetToParsedOffset;
    momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;
    momentPrototype__proto.isDST                = isDaylightSavingTime;
    momentPrototype__proto.isDSTShifted         = isDaylightSavingTimeShifted;
    momentPrototype__proto.isLocal              = isLocal;
    momentPrototype__proto.isUtcOffset          = isUtcOffset;
    momentPrototype__proto.isUtc                = isUtc;
    momentPrototype__proto.isUTC                = isUtc;</pre></div>
        
      
        
        <p>Timezone</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.zoneAbbr = getZoneAbbr;
    momentPrototype__proto.zoneName = getZoneName;</pre></div>
        
      
        
        <p>Deprecations</p>

        
          <div class='highlight'><pre>    momentPrototype__proto.dates  = deprecate(<span class="hljs-string">'dates accessor is deprecated. Use date instead.'</span>, getSetDayOfMonth);
    momentPrototype__proto.months = deprecate(<span class="hljs-string">'months accessor is deprecated. Use month instead'</span>, getSetMonth);
    momentPrototype__proto.years  = deprecate(<span class="hljs-string">'years accessor is deprecated. Use year instead'</span>, getSetYear);
    momentPrototype__proto.zone   = deprecate(<span class="hljs-string">'moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779'</span>, getSetZone);

    <span class="hljs-keyword">var</span> momentPrototype = momentPrototype__proto;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moment__createUnix</span> (<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">return</span> local__createLocal(input * <span class="hljs-number">1000</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moment__createInZone</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> local__createLocal.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>).parseZone();
    }

    <span class="hljs-keyword">var</span> defaultCalendar = {
        sameDay : <span class="hljs-string">'[Today at] LT'</span>,
        nextDay : <span class="hljs-string">'[Tomorrow at] LT'</span>,
        nextWeek : <span class="hljs-string">'dddd [at] LT'</span>,
        lastDay : <span class="hljs-string">'[Yesterday at] LT'</span>,
        lastWeek : <span class="hljs-string">'[Last] dddd [at] LT'</span>,
        sameElse : <span class="hljs-string">'L'</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">locale_calendar__calendar</span> (<span class="hljs-params">key, mom, now</span>) </span>{
        <span class="hljs-keyword">var</span> output = <span class="hljs-keyword">this</span>._calendar[key];
        <span class="hljs-keyword">return</span> isFunction(output) ? output.call(mom, now) : output;
    }

    <span class="hljs-keyword">var</span> defaultLongDateFormat = {
        LTS  : <span class="hljs-string">'h:mm:ss A'</span>,
        LT   : <span class="hljs-string">'h:mm A'</span>,
        L    : <span class="hljs-string">'MM/DD/YYYY'</span>,
        LL   : <span class="hljs-string">'MMMM D, YYYY'</span>,
        LLL  : <span class="hljs-string">'MMMM D, YYYY h:mm A'</span>,
        LLLL : <span class="hljs-string">'dddd, MMMM D, YYYY h:mm A'</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">longDateFormat</span> (<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> format = <span class="hljs-keyword">this</span>._longDateFormat[key],
            formatUpper = <span class="hljs-keyword">this</span>._longDateFormat[key.toUpperCase()];

        <span class="hljs-keyword">if</span> (format || !formatUpper) {
            <span class="hljs-keyword">return</span> format;
        }

        <span class="hljs-keyword">this</span>._longDateFormat[key] = formatUpper.replace(<span class="hljs-regexp">/MMMM|MM|DD|dddd/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) </span>{
            <span class="hljs-keyword">return</span> val.slice(<span class="hljs-number">1</span>);
        });

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._longDateFormat[key];
    }

    <span class="hljs-keyword">var</span> defaultInvalidDate = <span class="hljs-string">'Invalid date'</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">invalidDate</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._invalidDate;
    }

    <span class="hljs-keyword">var</span> defaultOrdinal = <span class="hljs-string">'%d'</span>;
    <span class="hljs-keyword">var</span> defaultOrdinalParse = <span class="hljs-regexp">/\d{1,2}/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ordinal</span> (<span class="hljs-params">number</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._ordinal.replace(<span class="hljs-string">'%d'</span>, number);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">preParsePostFormat</span> (<span class="hljs-params">string</span>) </span>{
        <span class="hljs-keyword">return</span> string;
    }

    <span class="hljs-keyword">var</span> defaultRelativeTime = {
        future : <span class="hljs-string">'in %s'</span>,
        past   : <span class="hljs-string">'%s ago'</span>,
        s  : <span class="hljs-string">'a few seconds'</span>,
        m  : <span class="hljs-string">'a minute'</span>,
        mm : <span class="hljs-string">'%d minutes'</span>,
        h  : <span class="hljs-string">'an hour'</span>,
        hh : <span class="hljs-string">'%d hours'</span>,
        d  : <span class="hljs-string">'a day'</span>,
        dd : <span class="hljs-string">'%d days'</span>,
        M  : <span class="hljs-string">'a month'</span>,
        MM : <span class="hljs-string">'%d months'</span>,
        y  : <span class="hljs-string">'a year'</span>,
        yy : <span class="hljs-string">'%d years'</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">relative__relativeTime</span> (<span class="hljs-params">number, withoutSuffix, string, isFuture</span>) </span>{
        <span class="hljs-keyword">var</span> output = <span class="hljs-keyword">this</span>._relativeTime[string];
        <span class="hljs-keyword">return</span> (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(<span class="hljs-regexp">/%d/i</span>, number);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pastFuture</span> (<span class="hljs-params">diff, output</span>) </span>{
        <span class="hljs-keyword">var</span> format = <span class="hljs-keyword">this</span>._relativeTime[diff &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">'future'</span> : <span class="hljs-string">'past'</span>];
        <span class="hljs-keyword">return</span> isFunction(format) ? format(output) : format.replace(<span class="hljs-regexp">/%s/i</span>, output);
    }

    <span class="hljs-keyword">var</span> prototype__proto = Locale.prototype;

    prototype__proto._calendar       = defaultCalendar;
    prototype__proto.calendar        = locale_calendar__calendar;
    prototype__proto._longDateFormat = defaultLongDateFormat;
    prototype__proto.longDateFormat  = longDateFormat;
    prototype__proto._invalidDate    = defaultInvalidDate;
    prototype__proto.invalidDate     = invalidDate;
    prototype__proto._ordinal        = defaultOrdinal;
    prototype__proto.ordinal         = ordinal;
    prototype__proto._ordinalParse   = defaultOrdinalParse;
    prototype__proto.preparse        = preParsePostFormat;
    prototype__proto.postformat      = preParsePostFormat;
    prototype__proto._relativeTime   = defaultRelativeTime;
    prototype__proto.relativeTime    = relative__relativeTime;
    prototype__proto.pastFuture      = pastFuture;
    prototype__proto.set             = locale_set__set;</pre></div>
        
      
        
        <p>Month</p>

        
          <div class='highlight'><pre>    prototype__proto.months            =        localeMonths;
    prototype__proto._months           = defaultLocaleMonths;
    prototype__proto.monthsShort       =        localeMonthsShort;
    prototype__proto._monthsShort      = defaultLocaleMonthsShort;
    prototype__proto.monthsParse       =        localeMonthsParse;
    prototype__proto._monthsRegex      = defaultMonthsRegex;
    prototype__proto.monthsRegex       = monthsRegex;
    prototype__proto._monthsShortRegex = defaultMonthsShortRegex;
    prototype__proto.monthsShortRegex  = monthsShortRegex;</pre></div>
        
      
        
        <p>Week</p>

        
          <div class='highlight'><pre>    prototype__proto.week = localeWeek;
    prototype__proto._week = defaultLocaleWeek;
    prototype__proto.firstDayOfYear = localeFirstDayOfYear;
    prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;</pre></div>
        
      
        
        <p>Day of Week</p>

        
          <div class='highlight'><pre>    prototype__proto.weekdays       =        localeWeekdays;
    prototype__proto._weekdays      = defaultLocaleWeekdays;
    prototype__proto.weekdaysMin    =        localeWeekdaysMin;
    prototype__proto._weekdaysMin   = defaultLocaleWeekdaysMin;
    prototype__proto.weekdaysShort  =        localeWeekdaysShort;
    prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;
    prototype__proto.weekdaysParse  =        localeWeekdaysParse;</pre></div>
        
      
        
        <p>Hours</p>

        
          <div class='highlight'><pre>    prototype__proto.isPM = localeIsPM;
    prototype__proto._meridiemParse = defaultLocaleMeridiemParse;
    prototype__proto.meridiem = localeMeridiem;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lists__get</span> (<span class="hljs-params">format, index, field, setter</span>) </span>{
        <span class="hljs-keyword">var</span> locale = locale_locales__getLocale();
        <span class="hljs-keyword">var</span> utc = create_utc__createUTC().set(setter, index);
        <span class="hljs-keyword">return</span> locale[field](utc, format);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">list</span> (<span class="hljs-params">format, index, field, count, setter</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> format === <span class="hljs-string">'number'</span>) {
            index = format;
            format = <span class="hljs-literal">undefined</span>;
        }

        format = format || <span class="hljs-string">''</span>;

        <span class="hljs-keyword">if</span> (index != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> lists__get(format, index, field, setter);
        }

        <span class="hljs-keyword">var</span> i;
        <span class="hljs-keyword">var</span> out = [];
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; count; i++) {
            out[i] = lists__get(format, i, field, setter);
        }
        <span class="hljs-keyword">return</span> out;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lists__listMonths</span> (<span class="hljs-params">format, index</span>) </span>{
        <span class="hljs-keyword">return</span> list(format, index, <span class="hljs-string">'months'</span>, <span class="hljs-number">12</span>, <span class="hljs-string">'month'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lists__listMonthsShort</span> (<span class="hljs-params">format, index</span>) </span>{
        <span class="hljs-keyword">return</span> list(format, index, <span class="hljs-string">'monthsShort'</span>, <span class="hljs-number">12</span>, <span class="hljs-string">'month'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lists__listWeekdays</span> (<span class="hljs-params">format, index</span>) </span>{
        <span class="hljs-keyword">return</span> list(format, index, <span class="hljs-string">'weekdays'</span>, <span class="hljs-number">7</span>, <span class="hljs-string">'day'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lists__listWeekdaysShort</span> (<span class="hljs-params">format, index</span>) </span>{
        <span class="hljs-keyword">return</span> list(format, index, <span class="hljs-string">'weekdaysShort'</span>, <span class="hljs-number">7</span>, <span class="hljs-string">'day'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lists__listWeekdaysMin</span> (<span class="hljs-params">format, index</span>) </span>{
        <span class="hljs-keyword">return</span> list(format, index, <span class="hljs-string">'weekdaysMin'</span>, <span class="hljs-number">7</span>, <span class="hljs-string">'day'</span>);
    }

    locale_locales__getSetGlobalLocale(<span class="hljs-string">'en'</span>, {
        ordinalParse: <span class="hljs-regexp">/\d{1,2}(th|st|nd|rd)/</span>,
        ordinal : <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">number</span>) </span>{
            <span class="hljs-keyword">var</span> b = number % <span class="hljs-number">10</span>,
                output = (toInt(number % <span class="hljs-number">100</span> / <span class="hljs-number">10</span>) === <span class="hljs-number">1</span>) ? <span class="hljs-string">'th'</span> :
                (b === <span class="hljs-number">1</span>) ? <span class="hljs-string">'st'</span> :
                (b === <span class="hljs-number">2</span>) ? <span class="hljs-string">'nd'</span> :
                (b === <span class="hljs-number">3</span>) ? <span class="hljs-string">'rd'</span> : <span class="hljs-string">'th'</span>;
            <span class="hljs-keyword">return</span> number + output;
        }
    });</pre></div>
        
      
        
        <p>Side effect imports</p>

        
          <div class='highlight'><pre>    utils_hooks__hooks.lang = deprecate(<span class="hljs-string">'moment.lang is deprecated. Use moment.locale instead.'</span>, locale_locales__getSetGlobalLocale);
    utils_hooks__hooks.langData = deprecate(<span class="hljs-string">'moment.langData is deprecated. Use moment.localeData instead.'</span>, locale_locales__getLocale);

    <span class="hljs-keyword">var</span> mathAbs = <span class="hljs-built_in">Math</span>.abs;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">duration_abs__abs</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> data           = <span class="hljs-keyword">this</span>._data;

        <span class="hljs-keyword">this</span>._milliseconds = mathAbs(<span class="hljs-keyword">this</span>._milliseconds);
        <span class="hljs-keyword">this</span>._days         = mathAbs(<span class="hljs-keyword">this</span>._days);
        <span class="hljs-keyword">this</span>._months       = mathAbs(<span class="hljs-keyword">this</span>._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">duration_add_subtract__addSubtract</span> (<span class="hljs-params">duration, input, value, direction</span>) </span>{
        <span class="hljs-keyword">var</span> other = create__createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        <span class="hljs-keyword">return</span> duration._bubble();
    }</pre></div>
        
      
        
        <p>supports only 2.0-style add(1, ‘s’) or add(duration)</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">duration_add_subtract__add</span> (<span class="hljs-params">input, value</span>) </span>{
        <span class="hljs-keyword">return</span> duration_add_subtract__addSubtract(<span class="hljs-keyword">this</span>, input, value, <span class="hljs-number">1</span>);
    }</pre></div>
        
      
        
        <p>supports only 2.0-style subtract(1, ‘s’) or subtract(duration)</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">duration_add_subtract__subtract</span> (<span class="hljs-params">input, value</span>) </span>{
        <span class="hljs-keyword">return</span> duration_add_subtract__addSubtract(<span class="hljs-keyword">this</span>, input, value, <span class="hljs-number">-1</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">absCeil</span> (<span class="hljs-params">number</span>) </span>{
        <span class="hljs-keyword">if</span> (number &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(number);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.ceil(number);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bubble</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> milliseconds = <span class="hljs-keyword">this</span>._milliseconds;
        <span class="hljs-keyword">var</span> days         = <span class="hljs-keyword">this</span>._days;
        <span class="hljs-keyword">var</span> months       = <span class="hljs-keyword">this</span>._months;
        <span class="hljs-keyword">var</span> data         = <span class="hljs-keyword">this</span>._data;
        <span class="hljs-keyword">var</span> seconds, minutes, hours, years, monthsFromDays;</pre></div>
        
      
        
        <p>if we have a mix of positive and negative values, bubble down first
check: <a href="https://github.com/moment/moment/issues/2166">https://github.com/moment/moment/issues/2166</a></p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">if</span> (!((milliseconds &gt;= <span class="hljs-number">0</span> &amp;&amp; days &gt;= <span class="hljs-number">0</span> &amp;&amp; months &gt;= <span class="hljs-number">0</span>) ||
                (milliseconds &lt;= <span class="hljs-number">0</span> &amp;&amp; days &lt;= <span class="hljs-number">0</span> &amp;&amp; months &lt;= <span class="hljs-number">0</span>))) {
            milliseconds += absCeil(monthsToDays(months) + days) * <span class="hljs-number">864e5</span>;
            days = <span class="hljs-number">0</span>;
            months = <span class="hljs-number">0</span>;
        }</pre></div>
        
      
        
        <p>The following code bubbles up values, see the tests for
examples of what that means.</p>

        
          <div class='highlight'><pre>        data.milliseconds = milliseconds % <span class="hljs-number">1000</span>;

        seconds           = absFloor(milliseconds / <span class="hljs-number">1000</span>);
        data.seconds      = seconds % <span class="hljs-number">60</span>;

        minutes           = absFloor(seconds / <span class="hljs-number">60</span>);
        data.minutes      = minutes % <span class="hljs-number">60</span>;

        hours             = absFloor(minutes / <span class="hljs-number">60</span>);
        data.hours        = hours % <span class="hljs-number">24</span>;

        days += absFloor(hours / <span class="hljs-number">24</span>);</pre></div>
        
      
        
        <p>convert days to months</p>

        
          <div class='highlight'><pre>        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));</pre></div>
        
      
        
        <p>12 months -&gt; 1 year</p>

        
          <div class='highlight'><pre>        years = absFloor(months / <span class="hljs-number">12</span>);
        months %= <span class="hljs-number">12</span>;

        data.days   = days;
        data.months = months;
        data.years  = years;

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">daysToMonths</span> (<span class="hljs-params">days</span>) </span>{</pre></div>
        
      
        
        <p>400 years have 146097 days (taking into account leap year rules)
400 years have 12 months === 4800</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">return</span> days * <span class="hljs-number">4800</span> / <span class="hljs-number">146097</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">monthsToDays</span> (<span class="hljs-params">months</span>) </span>{</pre></div>
        
      
        
        <p>the reverse of daysToMonths</p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">return</span> months * <span class="hljs-number">146097</span> / <span class="hljs-number">4800</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">as</span> (<span class="hljs-params">units</span>) </span>{
        <span class="hljs-keyword">var</span> days;
        <span class="hljs-keyword">var</span> months;
        <span class="hljs-keyword">var</span> milliseconds = <span class="hljs-keyword">this</span>._milliseconds;

        units = normalizeUnits(units);

        <span class="hljs-keyword">if</span> (units === <span class="hljs-string">'month'</span> || units === <span class="hljs-string">'year'</span>) {
            days   = <span class="hljs-keyword">this</span>._days   + milliseconds / <span class="hljs-number">864e5</span>;
            months = <span class="hljs-keyword">this</span>._months + daysToMonths(days);
            <span class="hljs-keyword">return</span> units === <span class="hljs-string">'month'</span> ? months : months / <span class="hljs-number">12</span>;
        } <span class="hljs-keyword">else</span> {</pre></div>
        
      
        
        <p>handle milliseconds separately because of floating point math errors (issue #1867)</p>

        
          <div class='highlight'><pre>            days = <span class="hljs-keyword">this</span>._days + <span class="hljs-built_in">Math</span>.round(monthsToDays(<span class="hljs-keyword">this</span>._months));
            <span class="hljs-keyword">switch</span> (units) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">'week'</span>   : <span class="hljs-keyword">return</span> days / <span class="hljs-number">7</span>     + milliseconds / <span class="hljs-number">6048e5</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'day'</span>    : <span class="hljs-keyword">return</span> days         + milliseconds / <span class="hljs-number">864e5</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'hour'</span>   : <span class="hljs-keyword">return</span> days * <span class="hljs-number">24</span>    + milliseconds / <span class="hljs-number">36e5</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'minute'</span> : <span class="hljs-keyword">return</span> days * <span class="hljs-number">1440</span>  + milliseconds / <span class="hljs-number">6e4</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'second'</span> : <span class="hljs-keyword">return</span> days * <span class="hljs-number">86400</span> + milliseconds / <span class="hljs-number">1000</span>;</pre></div>
        
      
        
        <p>Math.floor prevents floating point math errors here</p>

        
          <div class='highlight'><pre>                <span class="hljs-keyword">case</span> <span class="hljs-string">'millisecond'</span>: <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(days * <span class="hljs-number">864e5</span>) + milliseconds;
                <span class="hljs-keyword">default</span>: <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unknown unit '</span> + units);
            }
        }
    }</pre></div>
        
      
        
        <p>TODO: Use this.as(‘ms’)?</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">duration_as__valueOf</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (
            <span class="hljs-keyword">this</span>._milliseconds +
            <span class="hljs-keyword">this</span>._days * <span class="hljs-number">864e5</span> +
            (<span class="hljs-keyword">this</span>._months % <span class="hljs-number">12</span>) * <span class="hljs-number">2592e6</span> +
            toInt(<span class="hljs-keyword">this</span>._months / <span class="hljs-number">12</span>) * <span class="hljs-number">31536e6</span>
        );
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeAs</span> (<span class="hljs-params">alias</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.as(alias);
        };
    }

    <span class="hljs-keyword">var</span> asMilliseconds = makeAs(<span class="hljs-string">'ms'</span>);
    <span class="hljs-keyword">var</span> asSeconds      = makeAs(<span class="hljs-string">'s'</span>);
    <span class="hljs-keyword">var</span> asMinutes      = makeAs(<span class="hljs-string">'m'</span>);
    <span class="hljs-keyword">var</span> asHours        = makeAs(<span class="hljs-string">'h'</span>);
    <span class="hljs-keyword">var</span> asDays         = makeAs(<span class="hljs-string">'d'</span>);
    <span class="hljs-keyword">var</span> asWeeks        = makeAs(<span class="hljs-string">'w'</span>);
    <span class="hljs-keyword">var</span> asMonths       = makeAs(<span class="hljs-string">'M'</span>);
    <span class="hljs-keyword">var</span> asYears        = makeAs(<span class="hljs-string">'y'</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">duration_get__get</span> (<span class="hljs-params">units</span>) </span>{
        units = normalizeUnits(units);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[units + <span class="hljs-string">'s'</span>]();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeGetter</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._data[name];
        };
    }

    <span class="hljs-keyword">var</span> milliseconds = makeGetter(<span class="hljs-string">'milliseconds'</span>);
    <span class="hljs-keyword">var</span> seconds      = makeGetter(<span class="hljs-string">'seconds'</span>);
    <span class="hljs-keyword">var</span> minutes      = makeGetter(<span class="hljs-string">'minutes'</span>);
    <span class="hljs-keyword">var</span> hours        = makeGetter(<span class="hljs-string">'hours'</span>);
    <span class="hljs-keyword">var</span> days         = makeGetter(<span class="hljs-string">'days'</span>);
    <span class="hljs-keyword">var</span> months       = makeGetter(<span class="hljs-string">'months'</span>);
    <span class="hljs-keyword">var</span> years        = makeGetter(<span class="hljs-string">'years'</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">weeks</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> absFloor(<span class="hljs-keyword">this</span>.days() / <span class="hljs-number">7</span>);
    }

    <span class="hljs-keyword">var</span> round = <span class="hljs-built_in">Math</span>.round;
    <span class="hljs-keyword">var</span> thresholds = {
        s: <span class="hljs-number">45</span>,  <span class="hljs-comment">// seconds to minute</span>
        m: <span class="hljs-number">45</span>,  <span class="hljs-comment">// minutes to hour</span>
        h: <span class="hljs-number">22</span>,  <span class="hljs-comment">// hours to day</span>
        d: <span class="hljs-number">26</span>,  <span class="hljs-comment">// days to month</span>
        M: <span class="hljs-number">11</span>   <span class="hljs-comment">// months to year</span>
    };</pre></div>
        
      
        
        <p>helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">substituteTimeAgo</span>(<span class="hljs-params">string, number, withoutSuffix, isFuture, locale</span>) </span>{
        <span class="hljs-keyword">return</span> locale.relativeTime(number || <span class="hljs-number">1</span>, !!withoutSuffix, string, isFuture);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">duration_humanize__relativeTime</span> (<span class="hljs-params">posNegDuration, withoutSuffix, locale</span>) </span>{
        <span class="hljs-keyword">var</span> duration = create__createDuration(posNegDuration).abs();
        <span class="hljs-keyword">var</span> seconds  = round(duration.as(<span class="hljs-string">'s'</span>));
        <span class="hljs-keyword">var</span> minutes  = round(duration.as(<span class="hljs-string">'m'</span>));
        <span class="hljs-keyword">var</span> hours    = round(duration.as(<span class="hljs-string">'h'</span>));
        <span class="hljs-keyword">var</span> days     = round(duration.as(<span class="hljs-string">'d'</span>));
        <span class="hljs-keyword">var</span> months   = round(duration.as(<span class="hljs-string">'M'</span>));
        <span class="hljs-keyword">var</span> years    = round(duration.as(<span class="hljs-string">'y'</span>));

        <span class="hljs-keyword">var</span> a = seconds &lt; thresholds.s &amp;&amp; [<span class="hljs-string">'s'</span>, seconds]  ||
                minutes &lt;= <span class="hljs-number">1</span>           &amp;&amp; [<span class="hljs-string">'m'</span>]           ||
                minutes &lt; thresholds.m &amp;&amp; [<span class="hljs-string">'mm'</span>, minutes] ||
                hours   &lt;= <span class="hljs-number">1</span>           &amp;&amp; [<span class="hljs-string">'h'</span>]           ||
                hours   &lt; thresholds.h &amp;&amp; [<span class="hljs-string">'hh'</span>, hours]   ||
                days    &lt;= <span class="hljs-number">1</span>           &amp;&amp; [<span class="hljs-string">'d'</span>]           ||
                days    &lt; thresholds.d &amp;&amp; [<span class="hljs-string">'dd'</span>, days]    ||
                months  &lt;= <span class="hljs-number">1</span>           &amp;&amp; [<span class="hljs-string">'M'</span>]           ||
                months  &lt; thresholds.M &amp;&amp; [<span class="hljs-string">'MM'</span>, months]  ||
                years   &lt;= <span class="hljs-number">1</span>           &amp;&amp; [<span class="hljs-string">'y'</span>]           || [<span class="hljs-string">'yy'</span>, years];

        a[<span class="hljs-number">2</span>] = withoutSuffix;
        a[<span class="hljs-number">3</span>] = +posNegDuration &gt; <span class="hljs-number">0</span>;
        a[<span class="hljs-number">4</span>] = locale;
        <span class="hljs-keyword">return</span> substituteTimeAgo.apply(<span class="hljs-literal">null</span>, a);
    }</pre></div>
        
      
        
        <p>This function allows you to set a threshold for relative time strings</p>

        
          <div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">duration_humanize__getSetRelativeTimeThreshold</span> (<span class="hljs-params">threshold, limit</span>) </span>{
        <span class="hljs-keyword">if</span> (thresholds[threshold] === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (limit === <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">return</span> thresholds[threshold];
        }
        thresholds[threshold] = limit;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">humanize</span> (<span class="hljs-params">withSuffix</span>) </span>{
        <span class="hljs-keyword">var</span> locale = <span class="hljs-keyword">this</span>.localeData();
        <span class="hljs-keyword">var</span> output = duration_humanize__relativeTime(<span class="hljs-keyword">this</span>, !withSuffix, locale);

        <span class="hljs-keyword">if</span> (withSuffix) {
            output = locale.pastFuture(+<span class="hljs-keyword">this</span>, output);
        }

        <span class="hljs-keyword">return</span> locale.postformat(output);
    }

    <span class="hljs-keyword">var</span> iso_string__abs = <span class="hljs-built_in">Math</span>.abs;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">iso_string__toISOString</span>(<span class="hljs-params"></span>) </span>{</pre></div>
        
      
        
        <p>for ISO strings we do not use the normal bubbling rules:</p>
<ul>
<li>milliseconds bubble up until they become hours</li>
<li>days do not bubble at all</li>
<li>months bubble up until they become years
This is because there is no context-free conversion between hours and days
(think of clock changes)
and also not between days and months (28-31 days per month)</li>
</ul>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">var</span> seconds = iso_string__abs(<span class="hljs-keyword">this</span>._milliseconds) / <span class="hljs-number">1000</span>;
        <span class="hljs-keyword">var</span> days         = iso_string__abs(<span class="hljs-keyword">this</span>._days);
        <span class="hljs-keyword">var</span> months       = iso_string__abs(<span class="hljs-keyword">this</span>._months);
        <span class="hljs-keyword">var</span> minutes, hours, years;</pre></div>
        
      
        
        <p>3600 seconds -&gt; 60 minutes -&gt; 1 hour</p>

        
          <div class='highlight'><pre>        minutes           = absFloor(seconds / <span class="hljs-number">60</span>);
        hours             = absFloor(minutes / <span class="hljs-number">60</span>);
        seconds %= <span class="hljs-number">60</span>;
        minutes %= <span class="hljs-number">60</span>;</pre></div>
        
      
        
        <p>12 months -&gt; 1 year</p>

        
          <div class='highlight'><pre>        years  = absFloor(months / <span class="hljs-number">12</span>);
        months %= <span class="hljs-number">12</span>;</pre></div>
        
      
        
        <p>inspired by <a href="https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js">https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js</a></p>

        
          <div class='highlight'><pre>        <span class="hljs-keyword">var</span> Y = years;
        <span class="hljs-keyword">var</span> M = months;
        <span class="hljs-keyword">var</span> D = days;
        <span class="hljs-keyword">var</span> h = hours;
        <span class="hljs-keyword">var</span> m = minutes;
        <span class="hljs-keyword">var</span> s = seconds;
        <span class="hljs-keyword">var</span> total = <span class="hljs-keyword">this</span>.asSeconds();

        <span class="hljs-keyword">if</span> (!total) {</pre></div>
        
      
        
        <p>this is the same as C#’s (Noda) and python (isodate)…
but not other JS (goog.date)</p>

        
          <div class='highlight'><pre>            <span class="hljs-keyword">return</span> <span class="hljs-string">'P0D'</span>;
        }

        <span class="hljs-keyword">return</span> (total &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">'-'</span> : <span class="hljs-string">''</span>) +
            <span class="hljs-string">'P'</span> +
            (Y ? Y + <span class="hljs-string">'Y'</span> : <span class="hljs-string">''</span>) +
            (M ? M + <span class="hljs-string">'M'</span> : <span class="hljs-string">''</span>) +
            (D ? D + <span class="hljs-string">'D'</span> : <span class="hljs-string">''</span>) +
            ((h || m || s) ? <span class="hljs-string">'T'</span> : <span class="hljs-string">''</span>) +
            (h ? h + <span class="hljs-string">'H'</span> : <span class="hljs-string">''</span>) +
            (m ? m + <span class="hljs-string">'M'</span> : <span class="hljs-string">''</span>) +
            (s ? s + <span class="hljs-string">'S'</span> : <span class="hljs-string">''</span>);
    }

    <span class="hljs-keyword">var</span> duration_prototype__proto = Duration.prototype;

    duration_prototype__proto.abs            = duration_abs__abs;
    duration_prototype__proto.add            = duration_add_subtract__add;
    duration_prototype__proto.subtract       = duration_add_subtract__subtract;
    duration_prototype__proto.as             = <span class="hljs-keyword">as</span>;
    duration_prototype__proto.asMilliseconds = asMilliseconds;
    duration_prototype__proto.asSeconds      = asSeconds;
    duration_prototype__proto.asMinutes      = asMinutes;
    duration_prototype__proto.asHours        = asHours;
    duration_prototype__proto.asDays         = asDays;
    duration_prototype__proto.asWeeks        = asWeeks;
    duration_prototype__proto.asMonths       = asMonths;
    duration_prototype__proto.asYears        = asYears;
    duration_prototype__proto.valueOf        = duration_as__valueOf;
    duration_prototype__proto._bubble        = bubble;
    duration_prototype__proto.get            = duration_get__get;
    duration_prototype__proto.milliseconds   = milliseconds;
    duration_prototype__proto.seconds        = seconds;
    duration_prototype__proto.minutes        = minutes;
    duration_prototype__proto.hours          = hours;
    duration_prototype__proto.days           = days;
    duration_prototype__proto.weeks          = weeks;
    duration_prototype__proto.months         = months;
    duration_prototype__proto.years          = years;
    duration_prototype__proto.humanize       = humanize;
    duration_prototype__proto.toISOString    = iso_string__toISOString;
    duration_prototype__proto.toString       = iso_string__toISOString;
    duration_prototype__proto.toJSON         = iso_string__toISOString;
    duration_prototype__proto.locale         = locale;
    duration_prototype__proto.localeData     = localeData;</pre></div>
        
      
        
        <p>Deprecations</p>

        
          <div class='highlight'><pre>    duration_prototype__proto.toIsoString = deprecate(<span class="hljs-string">'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)'</span>, iso_string__toISOString);
    duration_prototype__proto.lang = lang;</pre></div>
        
      
        
        <p>Side effect imports</p>

        
      
        
        <p>FORMATTING</p>

        
          <div class='highlight'><pre>
    addFormatToken(<span class="hljs-string">'X'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'unix'</span>);
    addFormatToken(<span class="hljs-string">'x'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'valueOf'</span>);</pre></div>
        
      
        
        <p>PARSING</p>

        
          <div class='highlight'><pre>
    addRegexToken(<span class="hljs-string">'x'</span>, matchSigned);
    addRegexToken(<span class="hljs-string">'X'</span>, matchTimestamp);
    addParseToken(<span class="hljs-string">'X'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">parseFloat</span>(input, <span class="hljs-number">10</span>) * <span class="hljs-number">1000</span>);
    });
    addParseToken(<span class="hljs-string">'x'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">input, array, config</span>) </span>{
        config._d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(toInt(input));
    });</pre></div>
        
      
        
        <p>Side effect imports</p>

        
          <div class='highlight'><pre>

    utils_hooks__hooks.version = <span class="hljs-string">'2.12.0'</span>;

    setHookCallback(local__createLocal);

    utils_hooks__hooks.fn                    = momentPrototype;
    utils_hooks__hooks.min                   = min;
    utils_hooks__hooks.max                   = max;
    utils_hooks__hooks.now                   = now;
    utils_hooks__hooks.utc                   = create_utc__createUTC;
    utils_hooks__hooks.unix                  = moment__createUnix;
    utils_hooks__hooks.months                = lists__listMonths;
    utils_hooks__hooks.isDate                = isDate;
    utils_hooks__hooks.locale                = locale_locales__getSetGlobalLocale;
    utils_hooks__hooks.invalid               = valid__createInvalid;
    utils_hooks__hooks.duration              = create__createDuration;
    utils_hooks__hooks.isMoment              = isMoment;
    utils_hooks__hooks.weekdays              = lists__listWeekdays;
    utils_hooks__hooks.parseZone             = moment__createInZone;
    utils_hooks__hooks.localeData            = locale_locales__getLocale;
    utils_hooks__hooks.isDuration            = isDuration;
    utils_hooks__hooks.monthsShort           = lists__listMonthsShort;
    utils_hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;
    utils_hooks__hooks.defineLocale          = defineLocale;
    utils_hooks__hooks.updateLocale          = updateLocale;
    utils_hooks__hooks.locales               = locale_locales__listLocales;
    utils_hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;
    utils_hooks__hooks.normalizeUnits        = normalizeUnits;
    utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;
    utils_hooks__hooks.prototype             = momentPrototype;

    <span class="hljs-keyword">var</span> _moment = utils_hooks__hooks;

    <span class="hljs-keyword">return</span> _moment;

}));</pre></div>
        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
